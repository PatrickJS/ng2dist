{"version":3,"sources":["element_injector.js"],"names":[],"mappings":"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","file":"angular2/src/core/compiler/element_injector.es6","sourcesContent":["import {isPresent, isBlank, Type, int, BaseException} from 'angular2/src/facade/lang';\nimport {Math} from 'angular2/src/facade/math';\nimport {List, ListWrapper, MapWrapper} from 'angular2/src/facade/collection';\nimport {Injector, Key, Dependency, bind, Binding, ResolvedBinding, NoProviderError, ProviderError, CyclicDependencyError} from 'angular2/di';\nimport {Parent, Ancestor} from 'angular2/src/core/annotations/visibility';\nimport {EventEmitter, PropertySetter, Attribute, Query} from 'angular2/src/core/annotations/di';\nimport * as viewModule from 'angular2/src/core/compiler/view';\nimport {ViewContainer} from 'angular2/src/core/compiler/view_container';\nimport {NgElement} from 'angular2/src/core/compiler/ng_element';\nimport {Directive, Component, onChange, onDestroy, onAllChangesDone} from 'angular2/src/core/annotations/annotations';\nimport {BindingPropagationConfig} from 'angular2/change_detection';\nimport {QueryList} from './query_list';\n\nvar _MAX_DIRECTIVE_CONSTRUCTION_COUNTER = 10;\n\nvar MAX_DEPTH = Math.pow(2, 30) - 1;\n\nvar _undefined = new Object();\n\nvar _staticKeys;\n\n/**\n * @exportedAs angular2/view\n */\nexport class ElementRef {\n  elementInjector:ElementInjector;\n\n  constructor(elementInjector:ElementInjector){\n    this.elementInjector = elementInjector;\n  }\n\n  get hostView() {\n    return this.elementInjector._preBuiltObjects.view;\n  }\n\n  get injector() {\n    return this.elementInjector._lightDomAppInjector;\n  }\n\n  get boundElementIndex() {\n    return this.elementInjector._proto.index;\n  }\n}\n\nclass StaticKeys {\n  viewId:number;\n  ngElementId:number;\n  viewContainerId:number;\n  bindingPropagationConfigId:number;\n  elementRefId:number;\n\n  constructor() {\n    //TODO: vsavkin Key.annotate(Key.get(AppView), 'static')\n    this.viewId = Key.get(viewModule.AppView).id;\n    this.ngElementId = Key.get(NgElement).id;\n    this.viewContainerId = Key.get(ViewContainer).id;\n    this.bindingPropagationConfigId = Key.get(BindingPropagationConfig).id;\n    this.elementRefId = Key.get(ElementRef).id;\n  }\n\n  static instance() {\n    if (isBlank(_staticKeys)) _staticKeys = new StaticKeys();\n    return _staticKeys;\n  }\n}\n\nexport class TreeNode {\n  _parent:TreeNode;\n  _head:TreeNode;\n  _tail:TreeNode;\n  _next:TreeNode;\n  constructor(parent:TreeNode) {\n    this._head = null;\n    this._tail = null;\n    this._next = null;\n    if (isPresent(parent)) parent.addChild(this);\n  }\n\n  _assertConsistency() {\n    this._assertHeadBeforeTail();\n    this._assertTailReachable();\n    this._assertPresentInParentList();\n  }\n\n  _assertHeadBeforeTail() {\n    if (isBlank(this._tail) && isPresent(this._head)) throw new BaseException('null tail but non-null head');\n  }\n\n  _assertTailReachable() {\n    if (isBlank(this._tail)) return;\n    if (isPresent(this._tail._next)) throw new BaseException('node after tail');\n    var p = this._head;\n    while (isPresent(p) && p != this._tail) p = p._next;\n    if (isBlank(p) && isPresent(this._tail)) throw new BaseException('tail not reachable.')\n  }\n\n  _assertPresentInParentList() {\n    var p = this._parent;\n    if (isBlank(p)) {\n      return;\n    }\n    var cur = p._head;\n    while (isPresent(cur) && cur != this) cur = cur._next;\n    if (isBlank(cur)) throw new BaseException('node not reachable through parent.')\n  }\n\n  /**\n   * Adds a child to the parent node. The child MUST NOT be a part of a tree.\n   */\n  addChild(child:TreeNode) {\n    if (isPresent(this._tail)) {\n      this._tail._next = child;\n      this._tail = child;\n    } else {\n      this._tail = this._head = child;\n    }\n    child._next = null;\n    child._parent = this;\n    this._assertConsistency();\n  }\n\n  /**\n   * Adds a child to the parent node after a given sibling.\n   * The child MUST NOT be a part of a tree and the sibling must be present.\n   */\n  addChildAfter(child:TreeNode, prevSibling:TreeNode) {\n    this._assertConsistency();\n    if (isBlank(prevSibling)) {\n      var prevHead = this._head;\n      this._head = child;\n      child._next = prevHead;\n      if (isBlank(this._tail)) this._tail = child;\n    } else if (isBlank(prevSibling._next)) {\n       this.addChild(child);\n       return;\n     } else {\n      prevSibling._assertPresentInParentList();\n      child._next = prevSibling._next;\n      prevSibling._next = child;\n    }\n    child._parent = this;\n    this._assertConsistency();\n  }\n\n  /**\n   * Detaches a node from the parent's tree.\n   */\n  remove() {\n    this._assertConsistency();\n    if (isBlank(this.parent)) return;\n    var nextSibling = this._next;\n    var prevSibling = this._findPrev();\n    if (isBlank(prevSibling)) {\n      this.parent._head = this._next;\n    } else {\n      prevSibling._next = this._next;\n    }\n    if (isBlank(nextSibling)) {\n      this._parent._tail = prevSibling;\n    }\n    this._parent._assertConsistency();\n    this._parent = null;\n    this._next = null;\n    this._assertConsistency();\n  }\n\n  /**\n   * Finds a previous sibling or returns null if first child.\n   * Assumes the node has a parent.\n   * TODO(rado): replace with DoublyLinkedList to avoid O(n) here.\n   */\n  _findPrev() {\n    var node = this.parent._head;\n    if (node == this) return null;\n    while (node._next !== this) node = node._next;\n    return node;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  // TODO(rado): replace with a function call, does too much work for a getter.\n  get children() {\n    var res = [];\n    var child = this._head;\n    while (child != null) {\n      ListWrapper.push(res, child);\n      child = child._next;\n    }\n    return res;\n  }\n}\n\nexport class DirectiveDependency extends Dependency {\n  depth:int;\n  eventEmitterName:string;\n  propSetterName:string;\n  attributeName:string;\n  queryDirective;\n\n  constructor(key:Key, asPromise:boolean, lazy:boolean, optional:boolean,\n              properties:List, depth:int, eventEmitterName: string,\n              propSetterName: string, attributeName:string, queryDirective) {\n    super(key, asPromise, lazy, optional, properties);\n    this.depth = depth;\n    this.eventEmitterName = eventEmitterName;\n    this.propSetterName = propSetterName;\n    this.attributeName = attributeName;\n    this.queryDirective = queryDirective;\n    this._verify();\n  }\n\n  _verify() {\n    var count = 0;\n    if (isPresent(this.eventEmitterName)) count++;\n    if (isPresent(this.propSetterName)) count++;\n    if (isPresent(this.queryDirective)) count++;\n    if (isPresent(this.attributeName)) count++;\n    if (count > 1) throw new BaseException(\n      'A directive injectable can contain only one of the following @EventEmitter, @PropertySetter, @Attribute or @Query.');\n  }\n\n  static createFrom(d:Dependency):Dependency {\n    return new DirectiveDependency(d.key, d.asPromise, d.lazy, d.optional,\n      d.properties, DirectiveDependency._depth(d.properties),\n      DirectiveDependency._eventEmitterName(d.properties),\n      DirectiveDependency._propSetterName(d.properties),\n      DirectiveDependency._attributeName(d.properties),\n      DirectiveDependency._query(d.properties)\n    );\n  }\n\n  static _depth(properties):int {\n    if (properties.length == 0) return 0;\n    if (ListWrapper.any(properties, p => p instanceof Parent)) return 1;\n    if (ListWrapper.any(properties, p => p instanceof Ancestor)) return MAX_DEPTH;\n    return 0;\n  }\n\n  static _eventEmitterName(properties):string {\n    var p = ListWrapper.find(properties, (p) => p instanceof EventEmitter);\n    return isPresent(p) ? p.eventName : null;\n  }\n\n  static _propSetterName(properties):string {\n    var p = ListWrapper.find(properties, (p) => p instanceof PropertySetter);\n    return isPresent(p) ? p.propName : null;\n  }\n\n  static _attributeName(properties):string {\n    var p = ListWrapper.find(properties, (p) => p instanceof Attribute);\n    return isPresent(p) ? p.attributeName : null;\n  }\n\n  static _query(properties) {\n    var p = ListWrapper.find(properties, (p) => p instanceof Query);\n    return isPresent(p) ? p.directive : null;\n  }\n}\n\nexport class DirectiveBinding extends ResolvedBinding {\n  callOnDestroy:boolean;\n  callOnChange:boolean;\n  callOnAllChangesDone:boolean;\n  annotation:Directive;\n  resolvedInjectables:List<ResolvedBinding>;\n\n  constructor(key:Key, factory:Function, dependencies:List, providedAsPromise:boolean, annotation:Directive) {\n    super(key, factory, dependencies, providedAsPromise);\n    this.callOnDestroy = isPresent(annotation) && annotation.hasLifecycleHook(onDestroy);\n    this.callOnChange = isPresent(annotation) && annotation.hasLifecycleHook(onChange);\n    this.callOnAllChangesDone = isPresent(annotation) && annotation.hasLifecycleHook(onAllChangesDone);\n    this.annotation = annotation;\n    if (annotation instanceof Component && isPresent(annotation.injectables)) {\n      this.resolvedInjectables = Injector.resolve(annotation.injectables);\n    }\n  }\n\n  static createFromBinding(b:Binding, annotation:Directive):DirectiveBinding {\n    var rb = b.resolve();\n    var deps = ListWrapper.map(rb.dependencies, DirectiveDependency.createFrom);\n    return new DirectiveBinding(rb.key, rb.factory, deps, rb.providedAsPromise, annotation);\n  }\n\n  static createFromType(type:Type, annotation:Directive):DirectiveBinding {\n    var binding = new Binding(type, {toClass: type});\n    return DirectiveBinding.createFromBinding(binding, annotation);\n  }\n\n  static _hasEventEmitter(eventName: string, binding: DirectiveBinding) {\n    return ListWrapper.any(binding.dependencies, (d) => (d.eventEmitterName == eventName));\n  }\n}\n\n// TODO(rado): benchmark and consider rolling in as ElementInjector fields.\nexport class PreBuiltObjects {\n  view:viewModule.AppView;\n  element:NgElement;\n  viewContainer:ViewContainer;\n  bindingPropagationConfig:BindingPropagationConfig;\n  constructor(view, element:NgElement, viewContainer:ViewContainer,\n              bindingPropagationConfig:BindingPropagationConfig) {\n    this.view = view;\n    this.element = element;\n    this.viewContainer = viewContainer;\n    this.bindingPropagationConfig = bindingPropagationConfig;\n  }\n}\n\n/**\n\nDifference between di.Injector and ElementInjector\n\ndi.Injector:\n - imperative based (can create child injectors imperativly)\n - Lazy loading of code\n - Component/App Level services which are usually not DOM Related.\n\n\nElementInjector:\n  - ProtoBased (Injector structure fixed at compile time)\n  - understands @Ancestor, @Parent, @Child, @Descendent\n  - Fast\n  - Query mechanism for children\n  - 1:1 to DOM structure.\n\n PERF BENCHMARK: http://www.williambrownstreet.net/blog/2014/04/faster-angularjs-rendering-angularjs-and-reactjs/\n */\n\nexport class ProtoElementInjector  {\n  _binding0:ResolvedBinding;\n  _binding1:ResolvedBinding;\n  _binding2:ResolvedBinding;\n  _binding3:ResolvedBinding;\n  _binding4:ResolvedBinding;\n  _binding5:ResolvedBinding;\n  _binding6:ResolvedBinding;\n  _binding7:ResolvedBinding;\n  _binding8:ResolvedBinding;\n  _binding9:ResolvedBinding;\n  _binding0IsComponent:boolean;\n  _keyId0:int;\n  _keyId1:int;\n  _keyId2:int;\n  _keyId3:int;\n  _keyId4:int;\n  _keyId5:int;\n  _keyId6:int;\n  _keyId7:int;\n  _keyId8:int;\n  _keyId9:int;\n  parent:ProtoElementInjector;\n  index:int;\n  view:viewModule.AppView;\n  distanceToParent:number;\n  attributes:Map;\n\n  numberOfDirectives:number;\n\n  /** Whether the element is exported as $implicit. */\n  exportElement:boolean;\n\n  /** Whether the component instance is exported as $implicit. */\n  exportComponent:boolean;\n\n  /** The variable name that will be set to $implicit for the element. */\n  exportImplicitName:string;\n\n  constructor(parent:ProtoElementInjector, index:int, bindings:List, firstBindingIsComponent:boolean = false, distanceToParent:number = 0) {\n    this.parent = parent;\n    this.index = index;\n    this.distanceToParent = distanceToParent;\n    this.exportComponent = false;\n    this.exportElement = false;\n\n    this._binding0IsComponent = firstBindingIsComponent;\n    this._binding0 = null; this._keyId0 = null;\n    this._binding1 = null; this._keyId1 = null;\n    this._binding2 = null; this._keyId2 = null;\n    this._binding3 = null; this._keyId3 = null;\n    this._binding4 = null; this._keyId4 = null;\n    this._binding5 = null; this._keyId5 = null;\n    this._binding6 = null; this._keyId6 = null;\n    this._binding7 = null; this._keyId7 = null;\n    this._binding8 = null; this._keyId8 = null;\n    this._binding9 = null; this._keyId9 = null;\n\n    this.numberOfDirectives = bindings.length;\n    var length = bindings.length;\n\n    if (length > 0) {this._binding0 = this._createBinding(bindings[0]); this._keyId0 = this._binding0.key.id;}\n    if (length > 1) {this._binding1 = this._createBinding(bindings[1]); this._keyId1 = this._binding1.key.id;}\n    if (length > 2) {this._binding2 = this._createBinding(bindings[2]); this._keyId2 = this._binding2.key.id;}\n    if (length > 3) {this._binding3 = this._createBinding(bindings[3]); this._keyId3 = this._binding3.key.id;}\n    if (length > 4) {this._binding4 = this._createBinding(bindings[4]); this._keyId4 = this._binding4.key.id;}\n    if (length > 5) {this._binding5 = this._createBinding(bindings[5]); this._keyId5 = this._binding5.key.id;}\n    if (length > 6) {this._binding6 = this._createBinding(bindings[6]); this._keyId6 = this._binding6.key.id;}\n    if (length > 7) {this._binding7 = this._createBinding(bindings[7]); this._keyId7 = this._binding7.key.id;}\n    if (length > 8) {this._binding8 = this._createBinding(bindings[8]); this._keyId8 = this._binding8.key.id;}\n    if (length > 9) {this._binding9 = this._createBinding(bindings[9]); this._keyId9 = this._binding9.key.id;}\n    if (length > 10) {\n      throw 'Maximum number of directives per element has been reached.';\n    }\n  }\n\n  instantiate(parent:ElementInjector):ElementInjector {\n    return new ElementInjector(this, parent);\n  }\n\n  directParent(): ProtoElementInjector {\n    return this.distanceToParent < 2 ? this.parent : null;\n  }\n\n  _createBinding(bindingOrType) {\n    if (bindingOrType instanceof DirectiveBinding) {\n      return bindingOrType;\n    } else {\n      var b = bind(bindingOrType).toClass(bindingOrType);\n      return DirectiveBinding.createFromBinding(b, null);\n    }\n  }\n\n  get hasBindings():boolean {\n    return isPresent(this._binding0);\n  }\n\n  getDirectiveBindingAtIndex(index:int) {\n    if (index == 0) return this._binding0;\n    if (index == 1) return this._binding1;\n    if (index == 2) return this._binding2;\n    if (index == 3) return this._binding3;\n    if (index == 4) return this._binding4;\n    if (index == 5) return this._binding5;\n    if (index == 6) return this._binding6;\n    if (index == 7) return this._binding7;\n    if (index == 8) return this._binding8;\n    if (index == 9) return this._binding9;\n    throw new OutOfBoundsAccess(index);\n  }\n\n  hasEventEmitter(eventName: string) {\n    var p = this;\n    if (isPresent(p._binding0) && DirectiveBinding._hasEventEmitter(eventName, p._binding0)) return true;\n    if (isPresent(p._binding1) && DirectiveBinding._hasEventEmitter(eventName, p._binding1)) return true;\n    if (isPresent(p._binding2) && DirectiveBinding._hasEventEmitter(eventName, p._binding2)) return true;\n    if (isPresent(p._binding3) && DirectiveBinding._hasEventEmitter(eventName, p._binding3)) return true;\n    if (isPresent(p._binding4) && DirectiveBinding._hasEventEmitter(eventName, p._binding4)) return true;\n    if (isPresent(p._binding5) && DirectiveBinding._hasEventEmitter(eventName, p._binding5)) return true;\n    if (isPresent(p._binding6) && DirectiveBinding._hasEventEmitter(eventName, p._binding6)) return true;\n    if (isPresent(p._binding7) && DirectiveBinding._hasEventEmitter(eventName, p._binding7)) return true;\n    if (isPresent(p._binding8) && DirectiveBinding._hasEventEmitter(eventName, p._binding8)) return true;\n    if (isPresent(p._binding9) && DirectiveBinding._hasEventEmitter(eventName, p._binding9)) return true;\n    return false;\n  }\n}\n\nexport class ElementInjector extends TreeNode {\n  _proto:ProtoElementInjector;\n  _lightDomAppInjector:Injector;\n  _shadowDomAppInjector:Injector;\n  _host:ElementInjector;\n\n  // If this element injector has a component, the component instance will be stored in _obj0\n  _obj0:any;\n  _obj1:any;\n  _obj2:any;\n  _obj3:any;\n  _obj4:any;\n  _obj5:any;\n  _obj6:any;\n  _obj7:any;\n  _obj8:any;\n  _obj9:any;\n  _preBuiltObjects;\n  _constructionCounter;\n\n  _dynamicallyCreatedComponent:any;\n  _dynamicallyCreatedComponentBinding:DirectiveBinding;\n\n  // Queries are added during construction or linking with a new parent.\n  // They are never removed.\n  _query0: QueryRef;\n  _query1: QueryRef;\n  _query2: QueryRef;\n  constructor(proto:ProtoElementInjector, parent:ElementInjector) {\n    super(parent);\n    this._proto = proto;\n\n    //we cannot call clearDirectives because fields won't be detected\n    this._preBuiltObjects = null;\n    this._lightDomAppInjector = null;\n    this._shadowDomAppInjector = null;\n    this._obj0 = null;\n    this._obj1 = null;\n    this._obj2 = null;\n    this._obj3 = null;\n    this._obj4 = null;\n    this._obj5 = null;\n    this._obj6 = null;\n    this._obj7 = null;\n    this._obj8 = null;\n    this._obj9 = null;\n    this._constructionCounter = 0;\n\n    this._inheritQueries(parent);\n    this._buildQueries();\n  }\n\n  clearDirectives() {\n    this._host = null;\n    this._preBuiltObjects = null;\n    this._lightDomAppInjector = null;\n    this._shadowDomAppInjector = null;\n\n    var p = this._proto;\n\n    if (isPresent(p._binding0) && p._binding0.callOnDestroy) {this._obj0.onDestroy();}\n    if (isPresent(p._binding1) && p._binding1.callOnDestroy) {this._obj1.onDestroy();}\n    if (isPresent(p._binding2) && p._binding2.callOnDestroy) {this._obj2.onDestroy();}\n    if (isPresent(p._binding3) && p._binding3.callOnDestroy) {this._obj3.onDestroy();}\n    if (isPresent(p._binding4) && p._binding4.callOnDestroy) {this._obj4.onDestroy();}\n    if (isPresent(p._binding5) && p._binding5.callOnDestroy) {this._obj5.onDestroy();}\n    if (isPresent(p._binding6) && p._binding6.callOnDestroy) {this._obj6.onDestroy();}\n    if (isPresent(p._binding7) && p._binding7.callOnDestroy) {this._obj7.onDestroy();}\n    if (isPresent(p._binding8) && p._binding8.callOnDestroy) {this._obj8.onDestroy();}\n    if (isPresent(p._binding9) && p._binding9.callOnDestroy) {this._obj9.onDestroy();}\n    if (isPresent(this._dynamicallyCreatedComponentBinding) && this._dynamicallyCreatedComponentBinding.callOnDestroy) {\n      this._dynamicallyCreatedComponent.onDestroy();\n    }\n\n    this._obj0 = null;\n    this._obj1 = null;\n    this._obj2 = null;\n    this._obj3 = null;\n    this._obj4 = null;\n    this._obj5 = null;\n    this._obj6 = null;\n    this._obj7 = null;\n    this._obj8 = null;\n    this._obj9 = null;\n    this._dynamicallyCreatedComponent = null;\n    this._dynamicallyCreatedComponentBinding = null;\n\n    this._constructionCounter = 0;\n  }\n\n  instantiateDirectives(lightDomAppInjector:Injector, host:ElementInjector, shadowDomAppInjector:Injector, preBuiltObjects:PreBuiltObjects) {\n    this._host = host;\n    this._checkShadowDomAppInjector(shadowDomAppInjector);\n\n    this._preBuiltObjects = preBuiltObjects;\n    this._lightDomAppInjector = lightDomAppInjector;\n    this._shadowDomAppInjector = shadowDomAppInjector;\n\n    var p = this._proto;\n    if (isPresent(p._keyId0)) this._getDirectiveByKeyId(p._keyId0);\n    if (isPresent(p._keyId1)) this._getDirectiveByKeyId(p._keyId1);\n    if (isPresent(p._keyId2)) this._getDirectiveByKeyId(p._keyId2);\n    if (isPresent(p._keyId3)) this._getDirectiveByKeyId(p._keyId3);\n    if (isPresent(p._keyId4)) this._getDirectiveByKeyId(p._keyId4);\n    if (isPresent(p._keyId5)) this._getDirectiveByKeyId(p._keyId5);\n    if (isPresent(p._keyId6)) this._getDirectiveByKeyId(p._keyId6);\n    if (isPresent(p._keyId7)) this._getDirectiveByKeyId(p._keyId7);\n    if (isPresent(p._keyId8)) this._getDirectiveByKeyId(p._keyId8);\n    if (isPresent(p._keyId9)) this._getDirectiveByKeyId(p._keyId9);\n  }\n\n  dynamicallyCreateComponent(componentType:Type, annotation:Directive, injector:Injector) {\n    this._shadowDomAppInjector = injector;\n    this._dynamicallyCreatedComponentBinding = DirectiveBinding.createFromType(componentType, annotation);\n    this._dynamicallyCreatedComponent = this._new(this._dynamicallyCreatedComponentBinding);\n    return this._dynamicallyCreatedComponent;\n  }\n\n  _checkShadowDomAppInjector(shadowDomAppInjector:Injector) {\n    if (this._proto._binding0IsComponent && isBlank(shadowDomAppInjector)) {\n      throw new BaseException('A shadowDomAppInjector is required as this ElementInjector contains a component');\n    } else if (!this._proto._binding0IsComponent && isPresent(shadowDomAppInjector)) {\n      throw new BaseException('No shadowDomAppInjector allowed as there is not component stored in this ElementInjector');\n    }\n  }\n\n  get(token) {\n    if (this._isDynamicallyLoadedComponent(token)) {\n      return this._dynamicallyCreatedComponent;\n    }\n\n    return this._getByKey(Key.get(token), 0, false, null);\n  }\n\n  _isDynamicallyLoadedComponent(token) {\n    return isPresent(this._dynamicallyCreatedComponentBinding) &&\n      Key.get(token) === this._dynamicallyCreatedComponentBinding.key;\n  }\n\n  hasDirective(type:Type):boolean {\n    return this._getDirectiveByKeyId(Key.get(type).id) !== _undefined;\n  }\n\n  /** Gets the NgElement associated with this ElementInjector */\n  getNgElement() {\n    return this._preBuiltObjects.element;\n  }\n\n  getComponent() {\n    if (this._proto._binding0IsComponent) {\n      return this._obj0;\n    } else {\n      throw new BaseException('There is no component stored in this ElementInjector');\n    }\n  }\n\n  getDynamicallyLoadedComponent() {\n    return this._dynamicallyCreatedComponent;\n  }\n\n  directParent(): ElementInjector {\n    return this._proto.distanceToParent < 2 ? this.parent : null;\n  }\n\n  _isComponentKey(key:Key) {\n    return this._proto._binding0IsComponent && key.id === this._proto._keyId0;\n  }\n\n  _isDynamicallyLoadedComponentKey(key:Key) {\n    return isPresent(this._dynamicallyCreatedComponentBinding) && key.id ===\n      this._dynamicallyCreatedComponentBinding.key.id;\n  }\n\n  _new(binding:ResolvedBinding) {\n    if (this._constructionCounter++ > _MAX_DIRECTIVE_CONSTRUCTION_COUNTER) {\n      throw new CyclicDependencyError(binding.key);\n    }\n\n    var factory = binding.factory;\n    var deps = binding.dependencies;\n    var length = deps.length;\n\n    var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9;\n    try {\n      d0 = length > 0 ? this._getByDependency(deps[0], binding.key) : null;\n      d1 = length > 1 ? this._getByDependency(deps[1], binding.key) : null;\n      d2 = length > 2 ? this._getByDependency(deps[2], binding.key) : null;\n      d3 = length > 3 ? this._getByDependency(deps[3], binding.key) : null;\n      d4 = length > 4 ? this._getByDependency(deps[4], binding.key) : null;\n      d5 = length > 5 ? this._getByDependency(deps[5], binding.key) : null;\n      d6 = length > 6 ? this._getByDependency(deps[6], binding.key) : null;\n      d7 = length > 7 ? this._getByDependency(deps[7], binding.key) : null;\n      d8 = length > 8 ? this._getByDependency(deps[8], binding.key) : null;\n      d9 = length > 9 ? this._getByDependency(deps[9], binding.key) : null;\n    } catch(e) {\n      if (e instanceof ProviderError) e.addKey(binding.key);\n      throw e;\n    }\n\n    var obj;\n    switch(length) {\n      case 0: obj = factory(); break;\n      case 1: obj = factory(d0); break;\n      case 2: obj = factory(d0, d1); break;\n      case 3: obj = factory(d0, d1, d2); break;\n      case 4: obj = factory(d0, d1, d2, d3); break;\n      case 5: obj = factory(d0, d1, d2, d3, d4); break;\n      case 6: obj = factory(d0, d1, d2, d3, d4, d5); break;\n      case 7: obj = factory(d0, d1, d2, d3, d4, d5, d6); break;\n      case 8: obj = factory(d0, d1, d2, d3, d4, d5, d6, d7); break;\n      case 9: obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8); break;\n      case 10: obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9); break;\n      default: throw `Directive ${binding.key.token} can only have up to 10 dependencies.`;\n    }\n\n    this._addToQueries(obj, binding.key.token);\n\n    return obj;\n  }\n\n  _getByDependency(dep:DirectiveDependency, requestor:Key) {\n    if (isPresent(dep.eventEmitterName)) return this._buildEventEmitter(dep);\n    if (isPresent(dep.propSetterName)) return this._buildPropSetter(dep);\n    if (isPresent(dep.attributeName)) return this._buildAttribute(dep);\n    if (isPresent(dep.queryDirective)) return this._findQuery(dep.queryDirective).list;\n    if (dep.key.id === StaticKeys.instance().elementRefId) {\n      return new ElementRef(this);\n    }\n    return this._getByKey(dep.key, dep.depth, dep.optional, requestor);\n  }\n\n  _buildEventEmitter(dep: DirectiveDependency) {\n    var view = this._getPreBuiltObjectByKeyId(StaticKeys.instance().viewId);\n    return (event) => {\n      view.triggerEventHandlers(dep.eventEmitterName, event, this._proto.index);\n    };\n  }\n\n  _buildPropSetter(dep) {\n    var view = this._getPreBuiltObjectByKeyId(StaticKeys.instance().viewId);\n    var renderer = view.proto.renderer;\n    var index = this._proto.index;\n    return function(v) {\n      renderer.setElementProperty(view.render, index, dep.propSetterName, v);\n    };\n  }\n\n  _buildAttribute(dep): string {\n    var attributes = this._proto.attributes;\n    if (isPresent(attributes) && MapWrapper.contains(attributes, dep.attributeName)) {\n      return MapWrapper.get(attributes, dep.attributeName);\n    } else {\n      return null;\n    }\n  }\n\n  _buildQueriesForDeps(deps: List<DirectiveDependency>) {\n    for (var i = 0; i < deps.length; i++) {\n      var dep = deps[i];\n      if (isPresent(dep.queryDirective)) {\n        this._createQueryRef(dep.queryDirective);\n      }\n    }\n  }\n\n  _createQueryRef(directive) {\n    var queryList = new QueryList();\n    if (isBlank(this._query0)) {this._query0 = new QueryRef(directive, queryList, this);}\n    else if (isBlank(this._query1)) {this._query1 = new QueryRef(directive, queryList, this);}\n    else if (isBlank(this._query2)) {this._query2 = new QueryRef(directive, queryList, this);}\n    else throw new QueryError();\n  }\n\n  _addToQueries(obj, token) {\n    if (isPresent(this._query0) && (this._query0.directive === token)) {this._query0.list.add(obj);}\n    if (isPresent(this._query1) && (this._query1.directive === token)) {this._query1.list.add(obj);}\n    if (isPresent(this._query2) && (this._query2.directive === token)) {this._query2.list.add(obj);}\n  }\n\n  // TODO(rado): unify with _addParentQueries.\n  _inheritQueries(parent: ElementInjector) {\n    if (isBlank(parent)) return;\n    if (isPresent(parent._query0)) {this._query0 = parent._query0;}\n    if (isPresent(parent._query1)) {this._query1 = parent._query1;}\n    if (isPresent(parent._query2)) {this._query2 = parent._query2;}\n  }\n\n  _buildQueries() {\n    if (isBlank(this._proto)) return;\n    var p = this._proto;\n    if (isPresent(p._binding0)) {this._buildQueriesForDeps(p._binding0.dependencies);}\n    if (isPresent(p._binding1)) {this._buildQueriesForDeps(p._binding1.dependencies);}\n    if (isPresent(p._binding2)) {this._buildQueriesForDeps(p._binding2.dependencies);}\n    if (isPresent(p._binding3)) {this._buildQueriesForDeps(p._binding3.dependencies);}\n    if (isPresent(p._binding4)) {this._buildQueriesForDeps(p._binding4.dependencies);}\n    if (isPresent(p._binding5)) {this._buildQueriesForDeps(p._binding5.dependencies);}\n    if (isPresent(p._binding6)) {this._buildQueriesForDeps(p._binding6.dependencies);}\n    if (isPresent(p._binding7)) {this._buildQueriesForDeps(p._binding7.dependencies);}\n    if (isPresent(p._binding8)) {this._buildQueriesForDeps(p._binding8.dependencies);}\n    if (isPresent(p._binding9)) {this._buildQueriesForDeps(p._binding9.dependencies);}\n  }\n\n  _findQuery(token) {\n    if (isPresent(this._query0) && this._query0.directive === token) {return this._query0;}\n    if (isPresent(this._query1) && this._query1.directive === token) {return this._query1;}\n    if (isPresent(this._query2) && this._query2.directive === token) {return this._query2;}\n    throw new BaseException(`Cannot find query for directive ${token}.`);\n  }\n\n  link(parent: ElementInjector) {\n    parent.addChild(this);\n    this._addParentQueries();\n  }\n\n  linkAfter(parent: ElementInjector, prevSibling: ElementInjector) {\n    parent.addChildAfter(this, prevSibling);\n    this._addParentQueries();\n  }\n\n  _addParentQueries() {\n    if (isPresent(this.parent._query0)) {this._addQueryToTree(this.parent._query0); this.parent._query0.update();}\n    if (isPresent(this.parent._query1)) {this._addQueryToTree(this.parent._query1); this.parent._query1.update();}\n    if (isPresent(this.parent._query2)) {this._addQueryToTree(this.parent._query2); this.parent._query2.update();}\n  }\n\n  unlink() {\n    var queriesToUpDate = [];\n    if (isPresent(this.parent._query0)) {this._pruneQueryFromTree(this.parent._query0); ListWrapper.push(queriesToUpDate, this.parent._query0);}\n    if (isPresent(this.parent._query1)) {this._pruneQueryFromTree(this.parent._query1); ListWrapper.push(queriesToUpDate, this.parent._query1);}\n    if (isPresent(this.parent._query2)) {this._pruneQueryFromTree(this.parent._query2); ListWrapper.push(queriesToUpDate, this.parent._query2);}\n\n    this.remove();\n\n    ListWrapper.forEach(queriesToUpDate, (q) => q.update());\n  }\n\n\n  _pruneQueryFromTree(query: QueryRef) {\n    this._removeQueryRef(query);\n\n    var child = this._head;\n    while (isPresent(child)) {\n      child._pruneQueryFromTree(query);\n      child = child._next;\n    }\n  }\n\n  _addQueryToTree(query: QueryRef) {\n    this._assignQueryRef(query);\n\n    var child = this._head;\n    while (isPresent(child)) {\n      child._addQueryToTree(query);\n      child = child._next;\n    }\n  }\n\n  _assignQueryRef(query: QueryRef) {\n    if (isBlank(this._query0)) {this._query0 = query; return;}\n    else if (isBlank(this._query1)) {this._query1 = query; return;}\n    else if (isBlank(this._query2)) {this._query2 = query; return;}\n    throw new QueryError();\n  }\n\n  _removeQueryRef(query: QueryRef) {\n    if (this._query0 == query) this._query0 = null;\n    if (this._query1 == query) this._query1 = null;\n    if (this._query2 == query) this._query2 = null;\n  }\n\n  /*\n   * It is fairly easy to annotate keys with metadata.\n   * For example, key.metadata = 'directive'.\n   *\n   * This would allows to do the lookup more efficiently.\n   *\n   * for example\n   * we would lookup pre built objects only when metadata = 'preBuilt'\n   * we would lookup directives only when metadata = 'directive'\n   *\n   * Write benchmarks before doing this optimization.\n   */\n  _getByKey(key:Key, depth:number, optional:boolean, requestor:Key) {\n    var ei = this;\n    if (! this._shouldIncludeSelf(depth)) {\n      depth -= ei._proto.distanceToParent;\n      ei = ei._parent;\n    }\n\n    while (ei != null && depth >= 0) {\n      var preBuiltObj = ei._getPreBuiltObjectByKeyId(key.id);\n      if (preBuiltObj !== _undefined) return preBuiltObj;\n\n      var dir = ei._getDirectiveByKeyId(key.id);\n      if (dir !== _undefined) return dir;\n\n      depth -= ei._proto.distanceToParent;\n      ei = ei._parent;\n    }\n\n\n    if (isPresent(this._host) && this._host._isComponentKey(key)) {\n      return this._host.getComponent();\n    } else if (isPresent(this._host) && this._host._isDynamicallyLoadedComponentKey(key)) {\n      return this._host.getDynamicallyLoadedComponent();\n    } else if (optional) {\n      return this._appInjector(requestor).getOptional(key);\n    } else {\n      return this._appInjector(requestor).get(key);\n    }\n  }\n\n  _appInjector(requestor:Key) {\n    if (isPresent(requestor) && (this._isComponentKey(requestor) || this._isDynamicallyLoadedComponentKey(requestor))) {\n      return this._shadowDomAppInjector;\n    } else {\n      return this._lightDomAppInjector;\n    }\n  }\n\n  _shouldIncludeSelf(depth:int) {\n    return depth === 0;\n  }\n\n  _getPreBuiltObjectByKeyId(keyId:int) {\n    var staticKeys = StaticKeys.instance();\n    // TODO: AppView should not be injectable. Remove it.\n    if (keyId === staticKeys.viewId) return this._preBuiltObjects.view;\n    if (keyId === staticKeys.ngElementId) return this._preBuiltObjects.element;\n    if (keyId === staticKeys.viewContainerId) return this._preBuiltObjects.viewContainer;\n    if (keyId === staticKeys.bindingPropagationConfigId) return this._preBuiltObjects.bindingPropagationConfig;\n\n    //TODO add other objects as needed\n    return _undefined;\n  }\n\n  _getDirectiveByKeyId(keyId:int) {\n    var p = this._proto;\n\n    if (p._keyId0 === keyId) {if (isBlank(this._obj0)){this._obj0 = this._new(p._binding0);} return this._obj0;}\n    if (p._keyId1 === keyId) {if (isBlank(this._obj1)){this._obj1 = this._new(p._binding1);} return this._obj1;}\n    if (p._keyId2 === keyId) {if (isBlank(this._obj2)){this._obj2 = this._new(p._binding2);} return this._obj2;}\n    if (p._keyId3 === keyId) {if (isBlank(this._obj3)){this._obj3 = this._new(p._binding3);} return this._obj3;}\n    if (p._keyId4 === keyId) {if (isBlank(this._obj4)){this._obj4 = this._new(p._binding4);} return this._obj4;}\n    if (p._keyId5 === keyId) {if (isBlank(this._obj5)){this._obj5 = this._new(p._binding5);} return this._obj5;}\n    if (p._keyId6 === keyId) {if (isBlank(this._obj6)){this._obj6 = this._new(p._binding6);} return this._obj6;}\n    if (p._keyId7 === keyId) {if (isBlank(this._obj7)){this._obj7 = this._new(p._binding7);} return this._obj7;}\n    if (p._keyId8 === keyId) {if (isBlank(this._obj8)){this._obj8 = this._new(p._binding8);} return this._obj8;}\n    if (p._keyId9 === keyId) {if (isBlank(this._obj9)){this._obj9 = this._new(p._binding9);} return this._obj9;}\n    return _undefined;\n  }\n\n  getDirectiveAtIndex(index:int) {\n    if (index == 0) return this._obj0;\n    if (index == 1) return this._obj1;\n    if (index == 2) return this._obj2;\n    if (index == 3) return this._obj3;\n    if (index == 4) return this._obj4;\n    if (index == 5) return this._obj5;\n    if (index == 6) return this._obj6;\n    if (index == 7) return this._obj7;\n    if (index == 8) return this._obj8;\n    if (index == 9) return this._obj9;\n    throw new OutOfBoundsAccess(index);\n  }\n\n  getDirectiveBindingAtIndex(index:int) {\n    return this._proto.getDirectiveBindingAtIndex(index);\n  }\n\n  hasInstances() {\n    return this._constructionCounter > 0;\n  }\n\n  hasEventEmitter(eventName: string) {\n    return this._proto.hasEventEmitter(eventName);\n  }\n\n  /** Gets whether this element is exporting a component instance as $implicit. */\n  isExportingComponent() {\n    return this._proto.exportComponent;\n  }\n\n  /** Gets whether this element is exporting its element as $implicit. */\n  isExportingElement() {\n    return this._proto.exportElement;\n  }\n\n  /** Get the name to which this element's $implicit is to be assigned. */\n  getExportImplicitName() {\n    return this._proto.exportImplicitName;\n  }\n}\n\nclass OutOfBoundsAccess extends Error {\n  message:string;\n  constructor(index) {\n    super();\n    this.message = `Index ${index} is out-of-bounds.`;\n  }\n\n  toString() {\n    return this.message;\n  }\n}\n\nclass QueryError extends Error {\n  message:string;\n  // TODO(rado): pass the names of the active directives.\n  constructor() {\n    super();\n    this.message = 'Only 3 queries can be concurrently active in a template.';\n  }\n\n  toString() {\n    return this.message;\n  }\n}\n\nclass QueryRef {\n  directive;\n  list: QueryList;\n  originator: ElementInjector;\n  constructor(directive, list: QueryList, originator: ElementInjector) {\n    this.directive = directive;\n    this.list = list;\n    this.originator = originator;\n  }\n\n  update() {\n    var aggregator = [];\n    this.visit(this.originator, aggregator);\n    this.list.reset(aggregator);\n  }\n\n  visit(inj: ElementInjector, aggregator) {\n    if (isBlank(inj)) return;\n    if (inj.hasDirective(this.directive)) {\n      ListWrapper.push(aggregator, inj.get(this.directive));\n    }\n    var child = inj._head;\n    while (isPresent(child)) {\n      this.visit(child, aggregator);\n      child = child._next;\n    }\n  }\n}\n"]}