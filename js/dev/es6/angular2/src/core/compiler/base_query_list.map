{"version":3,"sources":["base_query_list.es6"],"names":[],"mappings":"AAAA,KAAO,EAAC,IAAG;AAAG,WAAS;AAAG,YAAU,CAAC,KAAO,iCAA+B,CAAC;AAC5E,KAAO,EAAC,SAAQ,CAAC,KAAO,4CAA0C,CAAC;AAWnE,KAAO,MAAM,cAAY;AAKvB,YAAU,CAAE,AAAD,CAAG;AACZ,OAAG,SAAS,EAAI,GAAC,CAAC;AAClB,OAAG,WAAW,EAAI,GAAC,CAAC;AACpB,OAAG,OAAO,EAAI,MAAI,CAAC;EACrB;AAAA,AAEA,EAAC,MAAK,SAAS,CAAC,CAAE,AAAD,CAAG;AAClB,SAAO,CAAA,IAAG,SAAS,CAAE,MAAK,SAAS,CAAC,AAAC,EAAC,CAAC;EACzC;AAAA,AAEA,MAAI,CAAE,OAAM,CAAG;AACb,OAAG,SAAS,EAAI,QAAM,CAAC;AACvB,OAAG,OAAO,EAAI,KAAG,CAAC;EACpB;AAAA,AAEA,IAAE,CAAE,GAAE,CAAG;AACP,cAAU,KAAK,AAAC,CAAC,IAAG,SAAS,CAAG,IAAE,CAAC,CAAC;AACpC,OAAG,OAAO,EAAI,KAAG,CAAC;EACpB;AAAA,AAGA,cAAY,CAAE,AAAD,CAAG;AACd,OAAI,IAAG,OAAO,CAAG;AACf,gBAAU,QAAQ,AAAC,CAAC,IAAG,WAAW,CAAG,EAAC,CAAA,IAAM,CAAA,CAAA,AAAC,EAAC,CAAC,CAAC;AAChD,SAAG,OAAO,EAAI,MAAI,CAAC;IACrB;AAAA,EACF;AAAA,AAEA,SAAO,CAAE,QAAO,CAAG;AACjB,cAAU,KAAK,AAAC,CAAC,IAAG,WAAW,CAAG,SAAO,CAAC,CAAC;EAC7C;AAAA,AAEA,eAAa,CAAE,QAAO,CAAG;AACvB,cAAU,OAAO,AAAC,CAAC,IAAG,WAAW,CAAG,SAAO,CAAC,CAAC;EAC/C;AAAA,AACF;AAAA","file":"angular2/src/core/compiler/base_query_list.es6","sourcesContent":["import {List, MapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {Directive} from 'angular2/src/core/annotations/annotations';\n\n/**\n * Injectable Objects that contains a live list of child directives in the light Dom of a directive.\n * The directives are kept in depth-first pre-order traversal of the DOM.\n *\n * In the future this class will implement an Observable interface.\n * For now it uses a plain list of observable callbacks.\n *\n * @exportedAs angular2/view\n */\nexport class BaseQueryList {\n  _results: List<Directive>;\n  _callbacks;\n  _dirty;\n\n  constructor() {\n    this._results = [];\n    this._callbacks = [];\n    this._dirty = false;\n  }\n\n  [Symbol.iterator]() {\n    return this._results[Symbol.iterator]();\n  }\n\n  reset(newList) {\n    this._results = newList;\n    this._dirty = true;\n  }\n\n  add(obj) {\n    ListWrapper.push(this._results, obj);\n    this._dirty = true;\n  }\n\n  // TODO(rado): hook up with change detection after #995.\n  fireCallbacks() {\n    if (this._dirty) {\n      ListWrapper.forEach(this._callbacks, (c) => c());\n      this._dirty = false;\n    }\n  }\n\n  onChange(callback) {\n    ListWrapper.push(this._callbacks, callback);\n  }\n\n  removeCallback(callback) {\n    ListWrapper.remove(this._callbacks, callback);\n  }\n}\n"]}