{"version":3,"sources":["change_detection_benchmark.js"],"names":[],"mappings":"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","file":"benchmarks/src/change_detection/change_detection_benchmark.es6","sourcesContent":["import {ListWrapper, MapWrapper} from 'angular2/src/facade/collection';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {isPresent, isJsObject} from 'angular2/src/facade/lang';\nimport {getIntParameter, bindAction, microBenchmark} from 'angular2/src/test_lib/benchmark_util';\nimport {BrowserDomAdapter} from 'angular2/src/dom/browser_adapter';\n\nimport {\n  Lexer,\n  Parser,\n  ChangeDispatcher,\n  ChangeDetection,\n  dynamicChangeDetection,\n  jitChangeDetection,\n  BindingRecord,\n  DirectiveRecord\n} from 'angular2/change_detection';\n\n\n// ---- SHARED\n\nclass Obj {\n  field0;\n  field1;\n  field2;\n  field3;\n  field4;\n  field5;\n  field6;\n  field7;\n  field8;\n  field9;\n\n\n  setField(index, value) {\n    switch (index) {\n      case 0: this.field0 = value; break;\n      case 1: this.field1 = value; break;\n      case 2: this.field2 = value; break;\n      case 3: this.field3 = value; break;\n      case 4: this.field4 = value; break;\n      case 5: this.field5 = value; break;\n      case 6: this.field6 = value; break;\n      case 7: this.field7 = value; break;\n      case 8: this.field8 = value; break;\n      case 9: this.field9 = value; break;\n    }\n  }\n\n  getField(index) {\n    switch (index) {\n      case 0: return this.field0;\n      case 1: return this.field1;\n      case 2: return this.field2;\n      case 3: return this.field3;\n      case 4: return this.field4;\n      case 5: return this.field5;\n      case 6: return this.field6;\n      case 7: return this.field7;\n      case 8: return this.field8;\n      case 9: return this.field9;\n    }\n  }\n}\n\nclass Row {\n  obj;\n  targetObj;\n  field0;\n  field1;\n  field2;\n  field3;\n  field4;\n  field5;\n  field6;\n  field7;\n  field8;\n  field9;\n\n  next;\n}\n\nfunction createObject() {\n  var obj = new Obj();\n  for (var i = 0; i < 10; ++i) {\n    obj.setField(i, i);\n  }\n  return obj;\n}\n\nfunction changeObject(object) {\n  for (var i = 0; i < 10; ++i) {\n    object.setField(i, object.getField(i) + 1);\n  }\n}\n\nfunction setUpReflector() {\n  reflector.registerGetters({\n    'field0': function(obj){return obj.field0},\n    'field1': function(obj){return obj.field1},\n    'field2': function(obj){return obj.field2},\n    'field3': function(obj){return obj.field3},\n    'field4': function(obj){return obj.field4},\n    'field5': function(obj){return obj.field5},\n    'field6': function(obj){return obj.field6},\n    'field7': function(obj){return obj.field7},\n    'field8': function(obj){return obj.field8},\n    'field9': function(obj){return obj.field9}\n  });\n  reflector.registerSetters({\n    'field0': function(obj, v){return obj.field0 = v},\n    'field1': function(obj, v){return obj.field1 = v},\n    'field2': function(obj, v){return obj.field2 = v},\n    'field3': function(obj, v){return obj.field3 = v},\n    'field4': function(obj, v){return obj.field4 = v},\n    'field5': function(obj, v){return obj.field5 = v},\n    'field6': function(obj, v){return obj.field6 = v},\n    'field7': function(obj, v){return obj.field7 = v},\n    'field8': function(obj, v){return obj.field8 = v},\n    'field9': function(obj, v){return obj.field9 = v}\n  });\n}\n\n\n\n// ---- BASELINE\n\nfunction setUpBaseline(iterations, object) {\n  function createRow(i) {\n    var r = new Row();\n    r.obj = object;\n    r.targetObj = new Obj();\n    return r;\n  }\n\n  var head = createRow(0);\n  var current = head;\n  for (var i = 1; i < iterations; i++) {\n    var newRow = createRow(i);\n    current.next = newRow;\n    current = newRow;\n  }\n  return head;\n}\n\nfunction checkBaselineRow(r) {\n  var obj = r.obj;\n\n  if (obj.field0 !== r.field0) {r.field0 = obj.field0; r.targetObj.field0 = obj.field0; }\n  if (obj.field1 !== r.field1) {r.field1 = obj.field1; r.targetObj.field1 = obj.field1; }\n  if (obj.field2 !== r.field2) {r.field2 = obj.field2; r.targetObj.field2 = obj.field2; }\n  if (obj.field3 !== r.field3) {r.field3 = obj.field3; r.targetObj.field3 = obj.field3; }\n  if (obj.field4 !== r.field4) {r.field4 = obj.field4; r.targetObj.field4 = obj.field4; }\n  if (obj.field5 !== r.field5) {r.field5 = obj.field5; r.targetObj.field5 = obj.field5; }\n  if (obj.field6 !== r.field6) {r.field6 = obj.field6; r.targetObj.field6 = obj.field6; }\n  if (obj.field7 !== r.field7) {r.field7 = obj.field7; r.targetObj.field7 = obj.field7; }\n  if (obj.field8 !== r.field8) {r.field8 = obj.field8; r.targetObj.field8 = obj.field8; }\n  if (obj.field9 !== r.field9) {r.field9 = obj.field9; r.targetObj.field9 = obj.field9; }\n}\n\nfunction runBaselineChangeDetection(baselineHead){\n  var current = baselineHead;\n  while (isPresent(current)) {\n    checkBaselineRow(current);\n    current = current.next;\n  }\n}\n\nfunction runBaselineReads(baselineHead, numberOfRuns) {\n  for (var i = 0; i < numberOfRuns; ++i) {\n    runBaselineChangeDetection(baselineHead);\n  }\n}\n\nfunction runBaselineWrites(baselineHead, numberOfRuns, object) {\n  for (var i = 0; i < numberOfRuns; ++i) {\n    changeObject(object);\n    runBaselineChangeDetection(baselineHead);\n  }\n}\n\n\n\n// ---- CHANGE DETECTION\n\nfunction setUpChangeDetection(changeDetection:ChangeDetection, iterations, object) {\n  var dispatcher = new DummyDispatcher();\n  var parser = new Parser(new Lexer());\n\n  var parentProto = changeDetection.createProtoChangeDetector('parent');\n  var parentCd = parentProto.instantiate(dispatcher, [], [], []);\n\n  var proto = changeDetection.createProtoChangeDetector(\"proto\");\n\n  var directiveRecord = new DirectiveRecord(0, 0, false, false);\n  var bindings = [\n    BindingRecord.createForDirective(parser.parseBinding('field0', null), \"field0\", reflector.setter(\"field0\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field1', null), \"field1\", reflector.setter(\"field1\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field2', null), \"field2\", reflector.setter(\"field2\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field3', null), \"field3\", reflector.setter(\"field3\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field4', null), \"field4\", reflector.setter(\"field4\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field5', null), \"field5\", reflector.setter(\"field5\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field6', null), \"field6\", reflector.setter(\"field6\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field7', null), \"field7\", reflector.setter(\"field7\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field8', null), \"field8\", reflector.setter(\"field8\"), directiveRecord),\n    BindingRecord.createForDirective(parser.parseBinding('field9', null), \"field9\", reflector.setter(\"field9\"), directiveRecord)\n  ];\n\n  var targetObj = new Obj();\n  for (var i = 0; i < iterations; ++i) {\n    var cd = proto.instantiate(dispatcher, bindings, [], [directiveRecord]);\n    cd.hydrate(object, null, new FakeDirectives(targetObj));\n    parentCd.addChild(cd);\n  }\n  return parentCd;\n}\n\nfunction runChangeDetectionReads(changeDetector, numberOfRuns) {\n  for(var i = 0; i < numberOfRuns; ++i) {\n    changeDetector.detectChanges();\n  }\n}\n\nfunction runChangeDetectionWrites(changeDetector, numberOfRuns, object) {\n  for(var i = 0; i < numberOfRuns; ++i) {\n    changeObject(object);\n    changeDetector.detectChanges();\n  }\n}\n\n\n\n\nexport function main () {\n  BrowserDomAdapter.makeCurrent();\n  var numberOfChecks = getIntParameter('numberOfChecks');\n  var numberOfRuns = getIntParameter('iterations');\n\n  var numberOfChecksPerDetector = 10;\n  var numberOfDetectors = numberOfChecks / numberOfChecksPerDetector / numberOfRuns;\n\n  setUpReflector();\n  var object = createObject()\n\n  // -- BASELINE\n  var baselineHead = setUpBaseline(numberOfDetectors, object);\n\n  runBaselineReads(baselineHead, 1); //warmup\n\n  bindAction(\n    '#baselineChangeDetectionReads',\n    () => microBenchmark('detectChangesAvg', numberOfRuns, () => runBaselineReads(baselineHead, numberOfRuns))\n  );\n\n  bindAction(\n    '#baselineChangeDetectionWrites',\n    () => microBenchmark('detectChangesAvg', numberOfRuns, () => runBaselineWrites(baselineHead, numberOfRuns, object))\n  );\n\n\n\n\n  // -- DYNAMIC\n  var ng2DynamicChangeDetector = setUpChangeDetection(dynamicChangeDetection, numberOfDetectors, object);\n\n  runChangeDetectionReads(ng2DynamicChangeDetector, 1); //warmup\n\n  bindAction(\n    '#ng2ChangeDetectionDynamicReads',\n    () => microBenchmark('detectChangesAvg', numberOfRuns, () => runChangeDetectionReads(ng2DynamicChangeDetector, numberOfRuns))\n  );\n\n  bindAction(\n    '#ng2ChangeDetectionDynamicWrites',\n    () => microBenchmark('detectChangesAvg', numberOfRuns, () => runChangeDetectionWrites(ng2DynamicChangeDetector, numberOfRuns, object))\n  );\n\n\n\n\n  // -- JIT\n  // Reenable when we have transformers for Dart\n  if (isJsObject({})) {\n    var ng2JitChangeDetector = setUpChangeDetection(jitChangeDetection, numberOfDetectors, object);\n\n    runChangeDetectionReads(ng2JitChangeDetector, 1); //warmup\n\n    bindAction(\n      '#ng2ChangeDetectionJitReads',\n      () => microBenchmark('detectChangesAvg', numberOfRuns, () => runChangeDetectionReads(ng2JitChangeDetector, numberOfRuns))\n    );\n\n    bindAction(\n      '#ng2ChangeDetectionJitWrites',\n      () => microBenchmark('detectChangesAvg', numberOfRuns, () => runChangeDetectionWrites(ng2JitChangeDetector, numberOfRuns, object))\n    );\n  } else {\n    bindAction('#ng2ChangeDetectionJitReads', () => {});\n    bindAction('#ng2ChangeDetectionJitWrites', () => {});\n  }\n}\n\nclass FakeDirectives {\n  targetObj:Obj;\n\n  constructor(targetObj) {\n    this.targetObj = targetObj;\n  }\n\n  directive(record) {\n    return this.targetObj;\n  }\n}\n\nclass DummyDispatcher extends ChangeDispatcher {\n  notifyOnBinding(bindingRecord, newValue) {\n    throw \"Should not be used\";\n  }\n}\n"]}