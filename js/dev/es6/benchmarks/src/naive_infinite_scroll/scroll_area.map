{"version":3,"sources":["scroll_area.js"],"names":[],"mappings":"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","file":"benchmarks/src/naive_infinite_scroll/scroll_area.es6","sourcesContent":["import {int, FINAL} from 'angular2/src/facade/lang';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {getIntParameter, bindAction} from 'angular2/src/test_lib/benchmark_util';\nimport {Component, Viewport, View, ViewContainer, Compiler}\n    from 'angular2/angular2';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\nimport {ListWrapper, MapWrapper} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {Math} from 'angular2/src/facade/math';\n\nimport {Offering, ITEMS, ITEM_HEIGHT, VISIBLE_ITEMS, VIEW_PORT_HEIGHT,\n    ROW_WIDTH, HEIGHT} from './common';\nimport {generateOfferings} from './random_data';\nimport {ScrollItemComponent} from './scroll_item';\nimport {For} from 'angular2/directives';\n\n@Component({\n  selector: 'scroll-area',\n})\n@View({\n  directives: [ScrollItemComponent, For],\n  template: `\n    <div>\n        <div id=\"scrollDiv\"\n             [style]=\"scrollDivStyle\"\n             on-scroll=\"onScroll($event)\">\n            <div id=\"padding\"></div>\n            <div id=\"inner\">\n                <scroll-item\n                    template=\"for #item of visibleItems\"\n                    [offering]=\"item\">\n                </scroll-item>\n            </div>\n        </div>\n    </div>`\n})\nexport class ScrollAreaComponent {\n  _fullList:List<Offering>;\n  visibleItems:List<Offering>;\n\n  scrollDivStyle;\n  paddingDiv;\n  innerDiv;\n\n  constructor() {\n    this._fullList = generateOfferings(ITEMS);\n    this.visibleItems = [];\n    this.scrollDivStyle = MapWrapper.createFromPairs([\n      ['height', `${VIEW_PORT_HEIGHT}px`],\n      ['width', '1000px'],\n      ['border', '1px solid #000'],\n      ['overflow', 'scroll']\n    ]);\n    this.onScroll(null);\n  }\n\n  onScroll(evt) {\n    var scrollTop = 0;\n    if (evt != null) {\n      var scrollDiv = evt.target;\n      if (this.paddingDiv == null) {\n        this.paddingDiv = scrollDiv.querySelector('#padding');\n      }\n      if (this.innerDiv == null) {\n        this.innerDiv = scrollDiv.querySelector('#inner');\n        this.innerDiv.style.setProperty('width', `${ROW_WIDTH}px`);\n      }\n      scrollTop = scrollDiv.scrollTop;\n    }\n    var iStart = Math.floor(scrollTop / ITEM_HEIGHT);\n    var iEnd = Math.min(iStart + VISIBLE_ITEMS + 1, this._fullList.length);\n    var padding = iStart * ITEM_HEIGHT;\n    if (this.innerDiv != null) {\n      this.innerDiv.style.setProperty('height', `${HEIGHT - padding}px`);\n    }\n    if (this.paddingDiv != null) {\n      this.paddingDiv.style.setProperty('height', `${padding}px`);\n    }\n    this.visibleItems = ListWrapper.slice(this._fullList, iStart, iEnd);\n  }\n}\n"]}