{"version":3,"sources":["web_driver_extension.js"],"names":[],"mappings":"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","file":"benchpress/src/web_driver_extension.es6","sourcesContent":["import { bind, Injector, OpaqueToken } from 'angular2/di';\n\nimport { BaseException, ABSTRACT, isBlank, isPresent } from 'angular2/src/facade/lang';\nimport { Promise, PromiseWrapper } from 'angular2/src/facade/async';\nimport { List, ListWrapper, StringMap } from 'angular2/src/facade/collection';\n\nimport { Options } from './common_options';\n\n/**\n * A WebDriverExtension implements extended commands of the webdriver protocol\n * for a given browser, independent of the WebDriverAdapter.\n * Needs one implementation for every supported Browser.\n */\n@ABSTRACT()\nexport class WebDriverExtension {\n  static bindTo(childTokens) {\n    return [\n      bind(_CHILDREN).toAsyncFactory(\n        (injector) => PromiseWrapper.all(ListWrapper.map(childTokens, (token) => injector.asyncGet(token) )),\n        [Injector]\n      ),\n      bind(WebDriverExtension).toFactory(\n        (children, capabilities) => {\n          var delegate;\n          ListWrapper.forEach(children, (extension) => {\n            if (extension.supports(capabilities)) {\n              delegate = extension;\n            }\n          });\n          if (isBlank(delegate)) {\n            throw new BaseException('Could not find a delegate for given capabilities!');\n          }\n          return delegate;\n        },\n        [_CHILDREN, Options.CAPABILITIES]\n      )\n    ];\n  }\n\n  gc():Promise {\n    throw new BaseException('NYI');\n  }\n\n  timeBegin(name):Promise {\n    throw new BaseException('NYI');\n  }\n\n  timeEnd(name, restart:boolean):Promise {\n    throw new BaseException('NYI');\n  }\n\n  /**\n   * Format:\n   * - cat: category of the event\n   * - name: event name: 'script', 'gc', 'render', ...\n   * - ph: phase: 'B' (begin), 'E' (end), 'b' (nestable start), 'e' (nestable end), 'X' (Complete event)\n   * - ts: timestamp in ms, e.g. 12345\n   * - pid: process id\n   * - args: arguments, e.g. {heapSize: 1234}\n   *\n   * Based on [Chrome Trace Event Format](https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit)\n   **/\n  readPerfLog():Promise<List> {\n    throw new BaseException('NYI');\n  }\n\n  perfLogFeatures():PerfLogFeatures {\n    throw new BaseException('NYI');\n  }\n\n  supports(capabilities:StringMap):boolean {\n    return true;\n  }\n}\n\nexport class PerfLogFeatures {\n  render:boolean;\n  gc:boolean;\n\n  constructor({render, gc} = {}) {\n    this.render = isPresent(render) && render;\n    this.gc = isPresent(gc) && gc;\n  }\n}\n\nvar _CHILDREN = new OpaqueToken('WebDriverExtension.children');\n"]}