{"version":3,"sources":["pipeline_spec.es6"],"names":[],"mappings":"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","file":"angular2/test/render/dom/compiler/pipeline_spec.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {describe,\n  beforeEach,\n  it,\n  expect,\n  iit,\n  ddescribe,\n  el} from 'angular2/test_lib';\nimport {ListWrapper,\n  List,\n  MapWrapper} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {isPresent,\n  NumberWrapper,\n  StringWrapper} from 'angular2/src/facade/lang';\nimport {CompilePipeline} from 'angular2/src/render/dom/compiler/compile_pipeline';\nimport {CompileElement} from 'angular2/src/render/dom/compiler/compile_element';\nimport {CompileStep} from 'angular2/src/render/dom/compiler/compile_step';\nimport {CompileControl} from 'angular2/src/render/dom/compiler/compile_control';\nimport {ProtoViewBuilder} from 'angular2/src/render/dom/view/proto_view_builder';\nexport function main() {\n  describe('compile_pipeline', () => {\n    describe('children compilation', () => {\n      it('should walk the tree in depth first order including template contents', () => {\n        var element = el('<div id=\"1\"><template id=\"2\"><span id=\"3\"></span></template></div>');\n        var step0Log = [];\n        var results = new CompilePipeline([createLoggerStep(step0Log)]).process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(resultIdLog(results)).toEqual(['1', '2', '3']);\n      });\n      it('should stop walking the tree when compileChildren is false', () => {\n        var element = el('<div id=\"1\"><template id=\"2\" ignore-children><span id=\"3\"></span></template></div>');\n        var step0Log = [];\n        var pipeline = new CompilePipeline([new IgnoreChildrenStep(), createLoggerStep(step0Log)]);\n        var results = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2']);\n        expect(resultIdLog(results)).toEqual(['1', '2']);\n      });\n    });\n    it('should inherit protoViewBuilders to children', () => {\n      var element = el('<div><div><span viewroot><span></span></span></div></div>');\n      var pipeline = new CompilePipeline([new MockStep((parent, current, control) => {\n        if (isPresent(DOM.getAttribute(current.element, 'viewroot'))) {\n          current.inheritedProtoView = new ProtoViewBuilder(current.element);\n        }\n      })]);\n      var results = pipeline.process(element);\n      expect(results[0].inheritedProtoView).toBe(results[1].inheritedProtoView);\n      expect(results[2].inheritedProtoView).toBe(results[3].inheritedProtoView);\n    });\n    it('should inherit elementBinderBuilders to children', () => {\n      var element = el('<div bind><div><span bind><span></span></span></div></div>');\n      var pipeline = new CompilePipeline([new MockStep((parent, current, control) => {\n        if (isPresent(DOM.getAttribute(current.element, 'bind'))) {\n          current.bindElement();\n        }\n      })]);\n      var results = pipeline.process(element);\n      expect(results[0].inheritedElementBinder).toBe(results[1].inheritedElementBinder);\n      expect(results[2].inheritedElementBinder).toBe(results[3].inheritedElementBinder);\n    });\n    it('should mark root elements as viewRoot', () => {\n      var rootElement = el('<div></div>');\n      var results = new CompilePipeline([]).process(rootElement);\n      expect(results[0].isViewRoot).toBe(true);\n    });\n    it('should calculate distanceToParent / parent correctly', () => {\n      var element = el('<div bind><div bind></div><div><div bind></div></div></div>');\n      var pipeline = new CompilePipeline([new MockStep((parent, current, control) => {\n        if (isPresent(DOM.getAttribute(current.element, 'bind'))) {\n          current.bindElement();\n        }\n      })]);\n      var results = pipeline.process(element);\n      expect(results[0].inheritedElementBinder.distanceToParent).toBe(0);\n      expect(results[1].inheritedElementBinder.distanceToParent).toBe(1);\n      expect(results[3].inheritedElementBinder.distanceToParent).toBe(2);\n      expect(results[1].inheritedElementBinder.parent).toBe(results[0].inheritedElementBinder);\n      expect(results[3].inheritedElementBinder.parent).toBe(results[0].inheritedElementBinder);\n    });\n    it('should not execute further steps when ignoreCurrentElement has been called', () => {\n      var element = el('<div id=\"1\"><span id=\"2\" ignore-current></span><span id=\"3\"></span></div>');\n      var logs = [];\n      var pipeline = new CompilePipeline([new IgnoreCurrentElementStep(), createLoggerStep(logs)]);\n      var results = pipeline.process(element);\n      expect(results.length).toBe(2);\n      expect(logs).toEqual(['1', '1<3']);\n    });\n    describe('control.addParent', () => {\n      it('should report the new parent to the following processor and the result', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var pipeline = new CompilePipeline([createWrapperStep('wrap0', step0Log), createLoggerStep(step1Log)]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', '2', '3']);\n      });\n      it('should allow to add a parent by multiple processors to the same element', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" wrap1=\"1\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var step2Log = [];\n        var pipeline = new CompilePipeline([createWrapperStep('wrap0', step0Log), createWrapperStep('wrap1', step1Log), createLoggerStep(step2Log)]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(step2Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<wrap1#0', 'wrap1#0<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', 'wrap1#0', '2', '3']);\n      });\n      it('should allow to add a parent by multiple processors to different elements', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" id=\"2\"><b id=\"3\" wrap1=\"1\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var step2Log = [];\n        var pipeline = new CompilePipeline([createWrapperStep('wrap0', step0Log), createWrapperStep('wrap1', step1Log), createLoggerStep(step2Log)]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(step2Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<wrap1#0', 'wrap1#0<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', '2', 'wrap1#0', '3']);\n      });\n      it('should allow to add multiple parents by the same processor', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"2\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var pipeline = new CompilePipeline([createWrapperStep('wrap0', step0Log), createLoggerStep(step1Log)]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<wrap0#1', 'wrap0#1<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', 'wrap0#1', '2', '3']);\n      });\n    });\n    describe('control.addChild', () => {\n      it('should report the new child to all processors and the result', () => {\n        var element = el('<div id=\"1\"><div id=\"2\"></div></div>');\n        var resultLog = [];\n        var newChild = new CompileElement(el('<div id=\"3\"></div>'));\n        var pipeline = new CompilePipeline([new MockStep((parent, current, control) => {\n          if (StringWrapper.equals(DOM.getAttribute(current.element, 'id'), '1')) {\n            control.addChild(newChild);\n          }\n        }), createLoggerStep(resultLog)]);\n        var result = pipeline.process(element);\n        expect(result[2]).toBe(newChild);\n        expect(resultLog).toEqual(['1', '1<2', '1<3']);\n        expect(resultIdLog(result)).toEqual(['1', '2', '3']);\n      });\n    });\n  });\n}\nclass MockStep extends CompileStep {\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent, current, control) {\n    assert.argumentTypes(parent, CompileElement, current, CompileElement, control, CompileControl);\n    this.processClosure(parent, current, control);\n  }\n}\nObject.defineProperty(MockStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nexport class IgnoreChildrenStep extends CompileStep {\n  process(parent, current, control) {\n    assert.argumentTypes(parent, CompileElement, current, CompileElement, control, CompileControl);\n    var attributeMap = DOM.attributeMap(current.element);\n    if (MapWrapper.contains(attributeMap, 'ignore-children')) {\n      current.compileChildren = false;\n    }\n  }\n}\nObject.defineProperty(IgnoreChildrenStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nclass IgnoreCurrentElementStep extends CompileStep {\n  process(parent, current, control) {\n    assert.argumentTypes(parent, CompileElement, current, CompileElement, control, CompileControl);\n    var attributeMap = DOM.attributeMap(current.element);\n    if (MapWrapper.contains(attributeMap, 'ignore-current')) {\n      control.ignoreCurrentElement();\n    }\n  }\n}\nObject.defineProperty(IgnoreCurrentElementStep.prototype.process, \"parameters\", {get: function() {\n    return [[CompileElement], [CompileElement], [CompileControl]];\n  }});\nfunction logEntry(log, parent, current) {\n  var parentId = '';\n  if (isPresent(parent)) {\n    parentId = DOM.getAttribute(parent.element, 'id') + '<';\n  }\n  ListWrapper.push(log, parentId + DOM.getAttribute(current.element, 'id'));\n}\nfunction createLoggerStep(log) {\n  return new MockStep((parent, current, control) => {\n    logEntry(log, parent, current);\n  });\n}\nfunction createWrapperStep(wrapperId, log) {\n  var nextElementId = 0;\n  return new MockStep((parent, current, control) => {\n    var parentCountStr = DOM.getAttribute(current.element, wrapperId);\n    if (isPresent(parentCountStr)) {\n      var parentCount = NumberWrapper.parseInt(parentCountStr, 10);\n      while (parentCount > 0) {\n        control.addParent(new CompileElement(el(`<a id=\"${wrapperId}#${nextElementId++}\"></a>`)));\n        parentCount--;\n      }\n    }\n    logEntry(log, parent, current);\n  });\n}\nfunction resultIdLog(result) {\n  var idLog = [];\n  ListWrapper.forEach(result, (current) => {\n    logEntry(idLog, null, current);\n  });\n  return idLog;\n}\n//# sourceMappingURL=pipeline_spec.js.map\n\n//# sourceMappingURL=./pipeline_spec.map"]}