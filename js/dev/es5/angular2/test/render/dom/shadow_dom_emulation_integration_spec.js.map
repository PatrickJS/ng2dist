{"version":3,"sources":["shadow_dom_emulation_integration_spec.es6"],"names":[],"mappings":"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","file":"angular2/test/render/dom/shadow_dom_emulation_integration_spec.js","sourcesContent":["import {AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  describe,\n  el,\n  elementText,\n  expect,\n  iit,\n  inject,\n  it,\n  xit,\n  SpyObject} from 'angular2/test_lib';\nimport {MapWrapper,\n  ListWrapper,\n  StringMapWrapper} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ProtoViewDto,\n  ViewDefinition,\n  ViewContainerRef,\n  DirectiveMetadata} from 'angular2/src/render/api';\nimport {EmulatedScopedShadowDomStrategy} from 'angular2/src/render/dom/shadow_dom/emulated_scoped_shadow_dom_strategy';\nimport {EmulatedUnscopedShadowDomStrategy} from 'angular2/src/render/dom/shadow_dom/emulated_unscoped_shadow_dom_strategy';\nimport {NativeShadowDomStrategy} from 'angular2/src/render/dom/shadow_dom/native_shadow_dom_strategy';\nimport {UrlResolver} from 'angular2/src/services/url_resolver';\nimport {StyleUrlResolver} from 'angular2/src/render/dom/shadow_dom/style_url_resolver';\nimport {StyleInliner} from 'angular2/src/render/dom/shadow_dom/style_inliner';\nimport {IntegrationTestbed} from './integration_testbed';\nexport function main() {\n  describe('ShadowDom integration tests', function() {\n    var urlResolver,\n        styleUrlResolver,\n        styleInliner;\n    var strategies = {\n      \"scoped\": () => new EmulatedScopedShadowDomStrategy(styleInliner, styleUrlResolver, null),\n      \"unscoped\": () => new EmulatedUnscopedShadowDomStrategy(styleUrlResolver, null)\n    };\n    if (DOM.supportsNativeShadowDOM()) {\n      StringMapWrapper.set(strategies, \"native\", () => new NativeShadowDomStrategy(styleUrlResolver));\n    }\n    beforeEach(() => {\n      urlResolver = new UrlResolver();\n      styleUrlResolver = new StyleUrlResolver(urlResolver);\n      styleInliner = new StyleInliner(null, styleUrlResolver, urlResolver);\n    });\n    StringMapWrapper.forEach(strategies, (strategyFactory, name) => {\n      describe(`${name} shadow dom strategy`, () => {\n        var testbed,\n            renderer,\n            rootEl,\n            compile,\n            compileRoot;\n        function createRenderer({templates}) {\n          testbed = new IntegrationTestbed({\n            shadowDomStrategy: strategyFactory(),\n            templates: ListWrapper.concat(templates, componentTemplates)\n          });\n          renderer = testbed.renderer;\n          compileRoot = (rootEl, componentId) => testbed.compileRoot(rootEl, componentId);\n          compile = (componentId) => testbed.compile(componentId);\n        }\n        beforeEach(() => {\n          rootEl = el('<div></div>');\n        });\n        it('should support simple components', inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<simple>' + '<div>A</div>' + '</simple>',\n              directives: [simple]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            renderer.createView(pv.render);\n            expect(rootEl).toHaveText('SIMPLE(A)');\n            async.done();\n          });\n        }));\n        it('should support dynamic components', inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<dynamic>' + '<div>A</div>' + '</dynamic>',\n              directives: [dynamicComponent]\n            })]});\n          compileRoot(rootEl, 'main').then((rootPv) => {\n            compile('simple').then((simplePv) => {\n              var views = renderer.createView(rootPv.render);\n              var simpleViews = renderer.createView(simplePv.render);\n              renderer.setDynamicComponentView(views[1], 0, simpleViews[0]);\n              expect(rootEl).toHaveText('SIMPLE(A)');\n              async.done();\n            });\n          });\n        }));\n        it('should support multiple content tags', inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<multiple-content-tags>' + '<div>B</div>' + '<div>C</div>' + '<div class=\"left\">A</div>' + '</multiple-content-tags>',\n              directives: [multipleContentTagsComponent]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            renderer.createView(pv.render);\n            expect(rootEl).toHaveText('(A, BC)');\n            async.done();\n          });\n        }));\n        it('should redistribute only direct children', inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<multiple-content-tags>' + '<div>B<div class=\"left\">A</div></div>' + '<div>C</div>' + '</multiple-content-tags>',\n              directives: [multipleContentTagsComponent]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            renderer.createView(pv.render);\n            expect(rootEl).toHaveText('(, BAC)');\n            async.done();\n          });\n        }));\n        it(\"should redistribute direct child viewcontainers when the light dom changes\", inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<multiple-content-tags>' + '<div><div template=\"manual\" class=\"left\">A</div></div>' + '<div>B</div>' + '</multiple-content-tags>',\n              directives: [multipleContentTagsComponent, manualViewportDirective]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            var viewRefs = renderer.createView(pv.render);\n            var vcRef = new ViewContainerRef(viewRefs[1], 1);\n            var vcProtoViewRef = pv.elementBinders[0].nestedProtoView.elementBinders[1].nestedProtoView.render;\n            var childViewRef = renderer.createView(vcProtoViewRef)[0];\n            expect(rootEl).toHaveText('(, B)');\n            renderer.insertViewIntoContainer(vcRef, childViewRef);\n            expect(rootEl).toHaveText('(, AB)');\n            renderer.detachViewFromContainer(vcRef, 0);\n            expect(rootEl).toHaveText('(, B)');\n            async.done();\n          });\n        }));\n        it(\"should redistribute when the light dom changes\", inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<multiple-content-tags>' + '<div template=\"manual\" class=\"left\">A</div>' + '<div>B</div>' + '</multiple-content-tags>',\n              directives: [multipleContentTagsComponent, manualViewportDirective]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            var viewRefs = renderer.createView(pv.render);\n            var vcRef = new ViewContainerRef(viewRefs[1], 1);\n            var vcProtoViewRef = pv.elementBinders[0].nestedProtoView.elementBinders[1].nestedProtoView.render;\n            var childViewRef = renderer.createView(vcProtoViewRef)[0];\n            expect(rootEl).toHaveText('(, B)');\n            renderer.insertViewIntoContainer(vcRef, childViewRef);\n            expect(rootEl).toHaveText('(A, B)');\n            renderer.detachViewFromContainer(vcRef, 0);\n            expect(rootEl).toHaveText('(, B)');\n            async.done();\n          });\n        }));\n        it(\"should support nested components\", inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<outer-with-indirect-nested>' + '<div>A</div>' + '<div>B</div>' + '</outer-with-indirect-nested>',\n              directives: [outerWithIndirectNestedComponent]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            renderer.createView(pv.render);\n            expect(rootEl).toHaveText('OUTER(SIMPLE(AB))');\n            async.done();\n          });\n        }));\n        it(\"should support nesting with content being direct child of a nested component\", inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<outer>' + '<div template=\"manual\" class=\"left\">A</div>' + '<div>B</div>' + '<div>C</div>' + '</outer>',\n              directives: [outerComponent, manualViewportDirective]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            var viewRefs = renderer.createView(pv.render);\n            var vcRef = new ViewContainerRef(viewRefs[1], 1);\n            var vcProtoViewRef = pv.elementBinders[0].nestedProtoView.elementBinders[1].nestedProtoView.render;\n            var childViewRef = renderer.createView(vcProtoViewRef)[0];\n            expect(rootEl).toHaveText('OUTER(INNER(INNERINNER(,BC)))');\n            renderer.insertViewIntoContainer(vcRef, childViewRef);\n            expect(rootEl).toHaveText('OUTER(INNER(INNERINNER(A,BC)))');\n            async.done();\n          });\n        }));\n        it('should redistribute when the shadow dom changes', inject([AsyncTestCompleter], (async) => {\n          createRenderer({templates: [new ViewDefinition({\n              componentId: 'main',\n              template: '<conditional-content>' + '<div class=\"left\">A</div>' + '<div>B</div>' + '<div>C</div>' + '</conditional-content>',\n              directives: [conditionalContentComponent]\n            })]});\n          compileRoot(rootEl, 'main').then((pv) => {\n            var viewRefs = renderer.createView(pv.render);\n            var vcRef = new ViewContainerRef(viewRefs[2], 0);\n            var vcProtoViewRef = pv.elementBinders[0].nestedProtoView.elementBinders[0].nestedProtoView.elementBinders[0].nestedProtoView.render;\n            var childViewRef = renderer.createView(vcProtoViewRef)[0];\n            expect(rootEl).toHaveText('(, ABC)');\n            renderer.insertViewIntoContainer(vcRef, childViewRef);\n            expect(rootEl).toHaveText('(A, BC)');\n            renderer.detachViewFromContainer(vcRef, 0);\n            expect(rootEl).toHaveText('(, ABC)');\n            async.done();\n          });\n        }));\n      });\n    });\n  });\n}\nvar simple = new DirectiveMetadata({\n  selector: 'simple',\n  id: 'simple',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar dynamicComponent = new DirectiveMetadata({\n  selector: 'dynamic',\n  id: 'dynamic',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar multipleContentTagsComponent = new DirectiveMetadata({\n  selector: 'multiple-content-tags',\n  id: 'multiple-content-tags',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar manualViewportDirective = new DirectiveMetadata({\n  selector: '[manual]',\n  id: 'manual',\n  type: DirectiveMetadata.VIEWPORT_TYPE\n});\nvar outerWithIndirectNestedComponent = new DirectiveMetadata({\n  selector: 'outer-with-indirect-nested',\n  id: 'outer-with-indirect-nested',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar outerComponent = new DirectiveMetadata({\n  selector: 'outer',\n  id: 'outer',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar innerComponent = new DirectiveMetadata({\n  selector: 'inner',\n  id: 'inner',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar innerInnerComponent = new DirectiveMetadata({\n  selector: 'innerinner',\n  id: 'innerinner',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar conditionalContentComponent = new DirectiveMetadata({\n  selector: 'conditional-content',\n  id: 'conditional-content',\n  type: DirectiveMetadata.COMPONENT_TYPE\n});\nvar autoViewportDirective = new DirectiveMetadata({\n  selector: '[auto]',\n  id: '[auto]',\n  type: DirectiveMetadata.VIEWPORT_TYPE\n});\nvar componentTemplates = [new ViewDefinition({\n  componentId: 'simple',\n  template: 'SIMPLE(<content></content>)',\n  directives: []\n}), new ViewDefinition({\n  componentId: 'multiple-content-tags',\n  template: '(<content select=\".left\"></content>, <content></content>)',\n  directives: []\n}), new ViewDefinition({\n  componentId: 'outer-with-indirect-nested',\n  template: 'OUTER(<simple><div><content></content></div></simple>)',\n  directives: [simple]\n}), new ViewDefinition({\n  componentId: 'outer',\n  template: 'OUTER(<inner><content></content></inner>)',\n  directives: [innerComponent]\n}), new ViewDefinition({\n  componentId: 'inner',\n  template: 'INNER(<innerinner><content></content></innerinner>)',\n  directives: [innerInnerComponent]\n}), new ViewDefinition({\n  componentId: 'innerinner',\n  template: 'INNERINNER(<content select=\".left\"></content>,<content></content>)',\n  directives: []\n}), new ViewDefinition({\n  componentId: 'conditional-content',\n  template: '<div>(<div *auto=\"cond\"><content select=\".left\"></content></div>, <content></content>)</div>',\n  directives: [autoViewportDirective]\n})];\n//# sourceMappingURL=shadow_dom_emulation_integration_spec.js.map\n\n//# sourceMappingURL=./shadow_dom_emulation_integration_spec.map"]}