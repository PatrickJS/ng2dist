{"version":3,"sources":["form_builder.es6"],"names":[],"mappings":"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","file":"angular2/src/forms/form_builder.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {StringMapWrapper,\n  ListWrapper,\n  List} from 'angular2/src/facade/collection';\nimport {isPresent} from 'angular2/src/facade/lang';\nimport * as modelModule from './model';\nexport class FormBuilder {\n  group(controlsConfig, extra = null) {\n    var controls = this._reduceControls(controlsConfig);\n    var optionals = isPresent(extra) ? StringMapWrapper.get(extra, \"optionals\") : null;\n    var validator = isPresent(extra) ? StringMapWrapper.get(extra, \"validator\") : null;\n    if (isPresent(validator)) {\n      return assert.returnType((new modelModule.ControlGroup(controls, optionals, validator)), modelModule.ControlGroup);\n    } else {\n      return assert.returnType((new modelModule.ControlGroup(controls, optionals)), modelModule.ControlGroup);\n    }\n  }\n  control(value, validator = null) {\n    assert.argumentTypes(value, assert.type.any, validator, Function);\n    if (isPresent(validator)) {\n      return assert.returnType((new modelModule.Control(value, validator)), modelModule.Control);\n    } else {\n      return assert.returnType((new modelModule.Control(value)), modelModule.Control);\n    }\n  }\n  array(controlsConfig, validator = null) {\n    var controls = ListWrapper.map(controlsConfig, (c) => this._createControl(c));\n    if (isPresent(validator)) {\n      return assert.returnType((new modelModule.ControlArray(controls, validator)), modelModule.ControlArray);\n    } else {\n      return assert.returnType((new modelModule.ControlArray(controls)), modelModule.ControlArray);\n    }\n  }\n  _reduceControls(controlsConfig) {\n    var controls = {};\n    StringMapWrapper.forEach(controlsConfig, (controlConfig, controlName) => {\n      controls[controlName] = this._createControl(controlConfig);\n    });\n    return controls;\n  }\n  _createControl(controlConfig) {\n    if (controlConfig instanceof modelModule.Control || controlConfig instanceof modelModule.ControlGroup || controlConfig instanceof modelModule.ControlArray) {\n      return controlConfig;\n    } else if (ListWrapper.isList(controlConfig)) {\n      var value = ListWrapper.get(controlConfig, 0);\n      var validator = controlConfig.length > 1 ? controlConfig[1] : null;\n      return this.control(value, validator);\n    } else {\n      return this.control(controlConfig);\n    }\n  }\n}\nObject.defineProperty(FormBuilder.prototype.control, \"parameters\", {get: function() {\n    return [[], [Function]];\n  }});\nObject.defineProperty(FormBuilder.prototype.array, \"parameters\", {get: function() {\n    return [[List], [Function]];\n  }});\n//# sourceMappingURL=form_builder.js.map\n\n//# sourceMappingURL=./form_builder.map"]}