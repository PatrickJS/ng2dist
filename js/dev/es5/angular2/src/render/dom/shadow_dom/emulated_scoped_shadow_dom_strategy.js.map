{"version":3,"sources":["emulated_scoped_shadow_dom_strategy.es6"],"names":[],"mappings":"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","file":"angular2/src/render/dom/shadow_dom/emulated_scoped_shadow_dom_strategy.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {isBlank,\n  isPresent} from 'angular2/src/facade/lang';\nimport {PromiseWrapper,\n  Promise} from 'angular2/src/facade/async';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {StyleInliner} from 'angular2/src/render/dom/shadow_dom/style_inliner';\nimport {StyleUrlResolver} from 'angular2/src/render/dom/shadow_dom/style_url_resolver';\nimport {EmulatedUnscopedShadowDomStrategy} from './emulated_unscoped_shadow_dom_strategy';\nimport {getContentAttribute,\n  getHostAttribute,\n  getComponentId,\n  shimCssForComponent,\n  insertStyleElement} from './util';\nexport class EmulatedScopedShadowDomStrategy extends EmulatedUnscopedShadowDomStrategy {\n  constructor(styleInliner, styleUrlResolver, styleHost) {\n    assert.argumentTypes(styleInliner, StyleInliner, styleUrlResolver, StyleUrlResolver, styleHost, assert.type.any);\n    super(styleUrlResolver, styleHost);\n    this.styleInliner = styleInliner;\n  }\n  processStyleElement(hostComponentId, templateUrl, styleEl) {\n    assert.argumentTypes(hostComponentId, assert.type.string, templateUrl, assert.type.string, styleEl, assert.type.any);\n    var cssText = DOM.getText(styleEl);\n    cssText = this.styleUrlResolver.resolveUrls(cssText, templateUrl);\n    var css = this.styleInliner.inlineImports(cssText, templateUrl);\n    if (PromiseWrapper.isPromise(css)) {\n      DOM.setText(styleEl, '');\n      return assert.returnType((css.then((css) => {\n        css = shimCssForComponent(css, hostComponentId);\n        DOM.setText(styleEl, css);\n      })), Promise);\n    } else {\n      css = shimCssForComponent(css, hostComponentId);\n      DOM.setText(styleEl, css);\n    }\n    DOM.remove(styleEl);\n    insertStyleElement(this.styleHost, styleEl);\n    return assert.returnType((null), Promise);\n  }\n  processElement(hostComponentId, elementComponentId, element) {\n    assert.argumentTypes(hostComponentId, assert.type.string, elementComponentId, assert.type.string, element, assert.type.any);\n    if (isPresent(hostComponentId)) {\n      var contentAttribute = getContentAttribute(getComponentId(hostComponentId));\n      DOM.setAttribute(element, contentAttribute, '');\n    }\n    if (isPresent(elementComponentId)) {\n      var hostAttribute = getHostAttribute(getComponentId(elementComponentId));\n      DOM.setAttribute(element, hostAttribute, '');\n    }\n  }\n}\nObject.defineProperty(EmulatedScopedShadowDomStrategy, \"parameters\", {get: function() {\n    return [[StyleInliner], [StyleUrlResolver], []];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy.prototype.processStyleElement, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string], []];\n  }});\nObject.defineProperty(EmulatedScopedShadowDomStrategy.prototype.processElement, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string], []];\n  }});\n//# sourceMappingURL=emulated_scoped_shadow_dom_strategy.js.map\n\n//# sourceMappingURL=./emulated_scoped_shadow_dom_strategy.map"]}