{"version":3,"sources":["index.es6"],"names":[],"mappings":"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","file":"examples/src/forms/index.js","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {bootstrap,\n  Component,\n  Decorator,\n  View,\n  If,\n  For,\n  EventEmitter} from 'angular2/angular2';\nimport {FormBuilder,\n  Validators,\n  FormDirectives,\n  ControlGroup} from 'angular2/forms';\nclass HeaderFields {}\nObject.defineProperty(HeaderFields, \"annotations\", {get: function() {\n    return [new Component({\n      selector: 'survey-header',\n      properties: {\"header\": \"header\"}\n    }), new View({\n      template: `\n      <div [control-group]=\"header\">\n        <div>\n          <label>Title:</label> <br/>\n          <input type=\"text\" control=\"title\"/>\n          <div *if=\"! header.controls.title.valid && header.controls.title.dirty\">\n            Title is required\n          </div>\n        </div>\n\n        <div>\n          <label>Description:</label> <br/>\n          <textarea control=\"description\"></textarea>\n          <div *if=\"! header.controls.description.valid && header.controls.description.dirty\">\n            Description is required\n          </div>\n        </div>\n\n        <div>\n          <label>Publish Date:</label> <br/>\n          <input type=\"date\" control=\"date\"/>\n        </div>\n      </div>\n  `,\n      directives: [FormDirectives, If]\n    })];\n  }});\nclass SurveyQuestion {\n  constructor(onDelete) {\n    assert.argumentTypes(onDelete, Function);\n    this.onDelete = onDelete;\n  }\n  deleteQuestion() {\n    this.onDelete();\n  }\n}\nObject.defineProperty(SurveyQuestion, \"annotations\", {get: function() {\n    return [new Component({\n      selector: 'survey-question',\n      properties: {\n        \"question\": \"question\",\n        \"index\": \"index\"\n      }\n    }), new View({\n      template: `\n      <h2>Question #{{index}}</h2>\n\n      <button (click)=\"deleteQuestion()\">Delete</button>\n\n      <div [control-group]=\"question\">\n        <div>\n          <label>Type:</label> <br/>\n          <select control=\"type\">\n            <option value=\"\"></option>\n            <option value=\"text\">Text</option>\n            <option value=\"checkbox\">Checkbox</option>\n            <option value=\"textarea\">Textarea</option>\n          </select>\n          <div *if=\"! question.controls.type.valid && question.controls.type.dirty\">\n            Type is required\n          </div>\n        </div>\n\n        <div>\n          <label>Question:</label> <br/>\n          <input type=\"text\" control=\"questionText\">\n          <div *if=\"! question.controls.questionText.valid && question.controls.questionText.dirty\">\n            Question is required\n          </div>\n        </div>\n\n        <div *if=\"question.contains('responseLength')\">\n          <label>Response Length:</label> <br/>\n          <input type=\"number\" control=\"responseLength\">\n          <div *if=\"! question.controls.responseLength.valid && question.controls.responseLength.dirty\">\n            Length is required\n          </div>\n        </div>\n      </div>\n  `,\n      directives: [FormDirectives, If]\n    })];\n  }});\nObject.defineProperty(SurveyQuestion, \"parameters\", {get: function() {\n    return [[Function, new EventEmitter(\"delete\")]];\n  }});\nclass SurveyBuilder {\n  constructor(b) {\n    assert.argumentTypes(b, FormBuilder);\n    this.builder = b;\n    this.form = b.group({\n      \"header\": b.group({\n        \"title\": [\"\", Validators.required],\n        \"description\": [\"\", Validators.required],\n        \"date\": \"\"\n      }),\n      \"questions\": b.array([])\n    });\n  }\n  addQuestion() {\n    var newQuestion = this.builder.group({\n      \"type\": [\"\", Validators.required],\n      \"questionText\": [\"\", Validators.required],\n      \"responseLength\": [100, Validators.required]\n    }, {\"optionals\": {\"responseLength\": false}});\n    newQuestion.controls.type.valueChanges.subscribe((v) => v == 'text' || v == 'textarea' ? newQuestion.include('responseLength') : newQuestion.exclude('responseLength'));\n    this.form.controls.questions.push(newQuestion);\n  }\n  deleteQuestion(index) {\n    assert.argumentTypes(index, assert.type.number);\n    this.form.controls.questions.removeAt(index);\n  }\n  submitForm() {\n    console.log(\"Submitting a form\");\n    console.log(\"value\", this.form.value, \"valid\", this.form.valid, \"errors\", this.form.errors);\n  }\n}\nObject.defineProperty(SurveyBuilder, \"annotations\", {get: function() {\n    return [new Component({\n      selector: 'survey-builder-app',\n      injectables: [FormBuilder]\n    }), new View({\n      template: `\n    <h1>Create New Survey</h1>\n\n    <div [control-group]=\"form\">\n      <survey-header [header]=\"form.controls.header\"></survey-header>\n\n      <button (click)=\"addQuestion()\">Add Question</button>\n      <survey-question\n          *for=\"var q of form.controls.questions.controls; var i=index\"\n          [question]=\"q\"\n          [index]=\"i + 1\"\n          (delete)=\"deleteQuestion(i)\">\n      </survey-question>\n\n      <button (click)=\"submitForm()\">Submit</button>\n    </div>\n  `,\n      directives: [FormDirectives, For, HeaderFields, SurveyQuestion]\n    })];\n  }});\nObject.defineProperty(SurveyBuilder, \"parameters\", {get: function() {\n    return [[FormBuilder]];\n  }});\nObject.defineProperty(SurveyBuilder.prototype.deleteQuestion, \"parameters\", {get: function() {\n    return [[assert.type.number]];\n  }});\nexport function main() {\n  bootstrap(SurveyBuilder);\n}\n//# sourceMappingURL=index.es6.map\n\n//# sourceMappingURL=./index.map"]}