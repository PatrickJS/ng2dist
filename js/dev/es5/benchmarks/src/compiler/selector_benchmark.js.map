{"version":3,"sources":["selector_benchmark.es6"],"names":[],"mappings":"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","file":"benchmarks/src/compiler/selector_benchmark.js","sourcesContent":["import {SelectorMatcher} from \"angular2/src/render/dom/compiler/selector\";\nimport {CssSelector} from \"angular2/src/render/dom/compiler/selector\";\nimport {StringWrapper,\n  Math} from 'angular2/src/facade/lang';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {getIntParameter,\n  bindAction} from 'angular2/src/test_lib/benchmark_util';\nimport {BrowserDomAdapter} from 'angular2/src/dom/browser_adapter';\nexport function main() {\n  BrowserDomAdapter.makeCurrent();\n  var count = getIntParameter('selectors');\n  var fixedMatcher;\n  var fixedSelectorStrings = [];\n  var fixedSelectors = [];\n  for (var i = 0; i < count; i++) {\n    ListWrapper.push(fixedSelectorStrings, randomSelector());\n  }\n  for (var i = 0; i < count; i++) {\n    ListWrapper.push(fixedSelectors, CssSelector.parse(fixedSelectorStrings[i]));\n  }\n  fixedMatcher = new SelectorMatcher();\n  for (var i = 0; i < count; i++) {\n    fixedMatcher.addSelectables(fixedSelectors[i], i);\n  }\n  function parse() {\n    var result = [];\n    for (var i = 0; i < count; i++) {\n      ListWrapper.push(result, CssSelector.parse(fixedSelectorStrings[i]));\n    }\n    return result;\n  }\n  function addSelectable() {\n    var matcher = new SelectorMatcher();\n    for (var i = 0; i < count; i++) {\n      matcher.addSelectables(fixedSelectors[i], i);\n    }\n    return matcher;\n  }\n  function match() {\n    var matchCount = 0;\n    for (var i = 0; i < count; i++) {\n      fixedMatcher.match(fixedSelectors[i][0], (selector, selected) => {\n        matchCount += selected;\n      });\n    }\n    return matchCount;\n  }\n  bindAction('#parse', parse);\n  bindAction('#addSelectable', addSelectable);\n  bindAction('#match', match);\n}\nfunction randomSelector() {\n  var res = randomStr(5);\n  for (var i = 0; i < 3; i++) {\n    res += '.' + randomStr(5);\n  }\n  for (var i = 0; i < 3; i++) {\n    res += '[' + randomStr(3) + '=' + randomStr(6) + ']';\n  }\n  return res;\n}\nfunction randomStr(len) {\n  var s = '';\n  while (s.length < len) {\n    s += randomChar();\n  }\n  return s;\n}\nfunction randomChar() {\n  var n = randomNum(62);\n  if (n < 10)\n    return n.toString();\n  if (n < 36)\n    return StringWrapper.fromCharCode(n + 55);\n  return StringWrapper.fromCharCode(n + 61);\n}\nfunction randomNum(max) {\n  return Math.floor(Math.random() * max);\n}\n//# sourceMappingURL=selector_benchmark.js.map\n\n//# sourceMappingURL=./selector_benchmark.map"]}