{"version":3,"sources":["console_reporter_spec.es6"],"names":[],"mappings":"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","file":"benchpress/test/reporter/console_reporter_spec.js","sourcesContent":["import {describe,\n  ddescribe,\n  it,\n  iit,\n  xit,\n  expect,\n  beforeEach,\n  afterEach} from 'angular2/test_lib';\nimport {isBlank,\n  isPresent,\n  Date,\n  DateWrapper} from 'angular2/src/facade/lang';\nimport {List,\n  ListWrapper} from 'angular2/src/facade/collection';\nimport {SampleState,\n  Reporter,\n  bind,\n  Injector,\n  ConsoleReporter,\n  SampleDescription,\n  MeasureValues} from 'benchpress/common';\nexport function main() {\n  describe('console reporter', () => {\n    var reporter;\n    var log;\n    function createReporter({columnWidth,\n      sampleId,\n      descriptions,\n      metrics}) {\n      log = [];\n      if (isBlank(descriptions)) {\n        descriptions = [];\n      }\n      if (isBlank(sampleId)) {\n        sampleId = 'null';\n      }\n      var bindings = [ConsoleReporter.BINDINGS, bind(SampleDescription).toValue(new SampleDescription(sampleId, descriptions, metrics)), bind(ConsoleReporter.PRINT).toValue((line) => ListWrapper.push(log, line))];\n      if (isPresent(columnWidth)) {\n        ListWrapper.push(bindings, bind(ConsoleReporter.COLUMN_WIDTH).toValue(columnWidth));\n      }\n      reporter = Injector.resolveAndCreate(bindings).get(ConsoleReporter);\n    }\n    it('should print the sample id, description and table header', () => {\n      createReporter({\n        columnWidth: 8,\n        sampleId: 'someSample',\n        descriptions: [{\n          'a': 1,\n          'b': 2\n        }],\n        metrics: {\n          'm1': 'some desc',\n          'm2': 'some other desc'\n        }\n      });\n      expect(log).toEqual(['BENCHMARK someSample', 'Description:', '- a: 1', '- b: 2', 'Metrics:', '- m1: some desc', '- m2: some other desc', '', '      m1 |       m2', '-------- | --------']);\n    });\n    it('should print a table row', () => {\n      createReporter({\n        columnWidth: 8,\n        metrics: {\n          'a': '',\n          'b': ''\n        }\n      });\n      log = [];\n      reporter.reportMeasureValues(mv(0, 0, {\n        'a': 1.23,\n        'b': 2\n      }));\n      expect(log).toEqual(['    1.23 |     2.00']);\n    });\n    it('should print the table footer and stats when there is a valid sample', () => {\n      createReporter({\n        columnWidth: 8,\n        metrics: {\n          'a': '',\n          'b': ''\n        }\n      });\n      log = [];\n      reporter.reportSample([], [mv(0, 0, {\n        'a': 3,\n        'b': 6\n      }), mv(1, 1, {\n        'a': 5,\n        'b': 9\n      })]);\n      expect(log).toEqual(['======== | ========', '4.00+-25% | 7.50+-20%']);\n    });\n  });\n}\nfunction mv(runIndex, time, values) {\n  return new MeasureValues(runIndex, DateWrapper.fromMillis(time), values);\n}\n//# sourceMappingURL=console_reporter_spec.js.map\n\n//# sourceMappingURL=./console_reporter_spec.map"]}