{"version":3,"sources":["change_detection.es6"],"names":[],"mappings":"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","file":"angular2/src/change_detection/change_detection.js","sourcesContent":["import {DynamicProtoChangeDetector,\n  JitProtoChangeDetector} from './proto_change_detector';\nimport {PipeRegistry} from './pipes/pipe_registry';\nimport {IterableChangesFactory} from './pipes/iterable_changes';\nimport {KeyValueChangesFactory} from './pipes/keyvalue_changes';\nimport {NullPipeFactory} from './pipes/null_pipe';\nimport {DEFAULT} from './constants';\nimport {ChangeDetection,\n  ProtoChangeDetector} from './interfaces';\nimport {Pipe,\n  NO_CHANGE} from './pipes/pipe';\nclass AsyncPipe extends Pipe {\n  constructor() {\n    super();\n    this.observable = null;\n    this.latestValue = null;\n  }\n  supports(obj) {\n    return this.observable === obj;\n  }\n  onDestroy() {\n    if (this.subscription && this.subscription.dispose) {\n      this.subscription.dispose();\n    } else if (this.dispose) {\n      this.dispose();\n    }\n  }\n  transform(value) {\n    if (!this.subscription) {\n      this.observable = value;\n      this.subscription = value.subscribe((x) => {\n        this.latestValue = x;\n      }, (e) => {\n        throw e;\n      });\n    }\n    if (this.latestReturnedValue !== this.latestValue) {\n      this.latestReturnedValue = this.latestValue;\n      return this.latestValue;\n    } else {\n      return NO_CHANGE;\n    }\n  }\n}\nexport var defaultPipes = {\n  \"iterableDiff\": [new IterableChangesFactory(), new NullPipeFactory()],\n  \"keyValDiff\": [new KeyValueChangesFactory(), new NullPipeFactory()],\n  \"async\": [{\n    supports: (obj) => obj && obj.subscribe !== undefined,\n    create: () => new AsyncPipe()\n  }]\n};\nexport class DynamicChangeDetection extends ChangeDetection {\n  constructor(registry) {\n    super();\n    this.registry = registry;\n  }\n  createProtoChangeDetector(name, changeControlStrategy = DEFAULT) {\n    return new DynamicProtoChangeDetector(this.registry, changeControlStrategy);\n  }\n}\nObject.defineProperty(DynamicChangeDetection, \"parameters\", {get: function() {\n    return [[PipeRegistry]];\n  }});\nObject.defineProperty(DynamicChangeDetection.prototype.createProtoChangeDetector, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nexport class JitChangeDetection extends ChangeDetection {\n  constructor(registry) {\n    super();\n    this.registry = registry;\n  }\n  createProtoChangeDetector(name, changeControlStrategy = DEFAULT) {\n    return new JitProtoChangeDetector(this.registry, changeControlStrategy);\n  }\n}\nObject.defineProperty(JitChangeDetection, \"parameters\", {get: function() {\n    return [[PipeRegistry]];\n  }});\nObject.defineProperty(JitChangeDetection.prototype.createProtoChangeDetector, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nvar _registry = new PipeRegistry(defaultPipes);\nexport var dynamicChangeDetection = new DynamicChangeDetection(_registry);\nexport var jitChangeDetection = new JitChangeDetection(_registry);\n//# sourceMappingURL=change_detection.js.map\n\n//# sourceMappingURL=./change_detection.map"]}