{"version":3,"sources":["view.es6"],"names":[],"mappings":"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","file":"angular2/src/core/compiler/view.js","sourcesContent":["import {ListWrapper,\n  MapWrapper,\n  Map,\n  StringMapWrapper,\n  List} from 'angular2/src/facade/collection';\nimport {AST,\n  Locals,\n  ChangeDispatcher,\n  ProtoChangeDetector,\n  ChangeDetector,\n  ChangeRecord,\n  BindingRecord,\n  DirectiveRecord,\n  BindingPropagationConfig} from 'angular2/change_detection';\nimport {ProtoElementInjector,\n  ElementInjector,\n  PreBuiltObjects,\n  DirectiveBinding} from './element_injector';\nimport {ElementBinder} from './element_binder';\nimport {SetterFn} from 'angular2/src/reflection/types';\nimport {IMPLEMENTS,\n  int,\n  isPresent,\n  isBlank,\n  BaseException} from 'angular2/src/facade/lang';\nimport {Injector} from 'angular2/di';\nimport {ViewContainer} from './view_container';\nimport * as renderApi from 'angular2/src/render/api';\nexport class AppView {\n  constructor(proto, protoLocals) {\n    this.render = null;\n    this.proto = proto;\n    this.changeDetector = null;\n    this.elementInjectors = null;\n    this.rootElementInjectors = null;\n    this.componentChildViews = null;\n    this.viewContainers = null;\n    this.preBuiltObjects = null;\n    this.context = null;\n    this.locals = new Locals(null, MapWrapper.clone(protoLocals));\n  }\n  init(changeDetector, elementInjectors, rootElementInjectors, viewContainers, preBuiltObjects, componentChildViews) {\n    this.changeDetector = changeDetector;\n    this.elementInjectors = elementInjectors;\n    this.rootElementInjectors = rootElementInjectors;\n    this.viewContainers = viewContainers;\n    this.preBuiltObjects = preBuiltObjects;\n    this.componentChildViews = componentChildViews;\n  }\n  setLocal(contextName, value) {\n    if (!this.hydrated())\n      throw new BaseException('Cannot set locals on dehydrated view.');\n    if (!MapWrapper.contains(this.proto.variableBindings, contextName)) {\n      return ;\n    }\n    var templateName = MapWrapper.get(this.proto.variableBindings, contextName);\n    this.locals.set(templateName, value);\n  }\n  hydrated() {\n    return isPresent(this.context);\n  }\n  _setContextAndLocals(newContext, locals) {\n    this.context = newContext;\n    this.locals.parent = locals;\n  }\n  _hydrateChangeDetector() {\n    this.changeDetector.hydrate(this.context, this.locals, this);\n  }\n  _dehydrateContext() {\n    if (isPresent(this.locals)) {\n      this.locals.clearValues();\n    }\n    this.context = null;\n    this.changeDetector.dehydrate();\n  }\n  hydrate(appInjector, hostElementInjector, context, locals) {\n    var renderComponentViewRefs = this.proto.renderer.createView(this.proto.render);\n    this.internalHydrateRecurse(renderComponentViewRefs, 0, appInjector, hostElementInjector, context, locals);\n  }\n  dehydrate() {\n    var render = this.render;\n    this.internalDehydrateRecurse();\n    this.proto.renderer.destroyView(render);\n  }\n  internalHydrateRecurse(renderComponentViewRefs, renderComponentIndex, appInjector, hostElementInjector, context, locals) {\n    if (this.hydrated())\n      throw new BaseException('The view is already hydrated.');\n    this.render = renderComponentViewRefs[renderComponentIndex++];\n    this._setContextAndLocals(context, locals);\n    for (var i = 0; i < this.viewContainers.length; i++) {\n      var vc = this.viewContainers[i];\n      if (isPresent(vc)) {\n        vc.internalHydrateRecurse(new renderApi.ViewContainerRef(this.render, i), appInjector, hostElementInjector);\n      }\n    }\n    var binders = this.proto.elementBinders;\n    var componentChildViewIndex = 0;\n    for (var i = 0; i < binders.length; ++i) {\n      var componentDirective = binders[i].componentDirective;\n      var shadowDomAppInjector = null;\n      if (isPresent(componentDirective)) {\n        var injectables = componentDirective.resolvedInjectables;\n        if (isPresent(injectables))\n          shadowDomAppInjector = appInjector.createChildFromResolved(injectables);\n        else {\n          shadowDomAppInjector = appInjector;\n        }\n      } else {\n        shadowDomAppInjector = null;\n      }\n      var elementInjector = this.elementInjectors[i];\n      if (isPresent(elementInjector)) {\n        elementInjector.instantiateDirectives(appInjector, hostElementInjector, shadowDomAppInjector, this.preBuiltObjects[i]);\n        var exportImplicitName = elementInjector.getExportImplicitName();\n        if (elementInjector.isExportingComponent()) {\n          this.locals.set(exportImplicitName, elementInjector.getComponent());\n        } else if (elementInjector.isExportingElement()) {\n          this.locals.set(exportImplicitName, elementInjector.getNgElement());\n        }\n      }\n      if (isPresent(binders[i].nestedProtoView) && isPresent(componentDirective)) {\n        renderComponentIndex = this.componentChildViews[componentChildViewIndex].internalHydrateRecurse(renderComponentViewRefs, renderComponentIndex, shadowDomAppInjector, elementInjector, elementInjector.getComponent(), null);\n        componentChildViewIndex++;\n      }\n    }\n    this._hydrateChangeDetector();\n    this.proto.renderer.setEventDispatcher(this.render, this);\n    return renderComponentIndex;\n  }\n  internalDehydrateRecurse() {\n    for (var i = 0; i < this.componentChildViews.length; i++) {\n      this.componentChildViews[i].internalDehydrateRecurse();\n    }\n    for (var i = 0; i < this.elementInjectors.length; i++) {\n      if (isPresent(this.elementInjectors[i])) {\n        this.elementInjectors[i].clearDirectives();\n      }\n    }\n    if (isPresent(this.viewContainers)) {\n      for (var i = 0; i < this.viewContainers.length; i++) {\n        var vc = this.viewContainers[i];\n        if (isPresent(vc)) {\n          vc.internalDehydrateRecurse();\n        }\n      }\n    }\n    this.render = null;\n    this._dehydrateContext();\n  }\n  triggerEventHandlers(eventName, eventObj, binderIndex) {\n    var locals = MapWrapper.create();\n    MapWrapper.set(locals, '$event', eventObj);\n    this.dispatchEvent(binderIndex, eventName, locals);\n  }\n  notifyOnBinding(b, currentValue) {\n    if (b.isElement()) {\n      this.proto.renderer.setElementProperty(this.render, b.elementIndex, b.propertyName, currentValue);\n    } else {\n      this.proto.renderer.setText(this.render, b.elementIndex, currentValue);\n    }\n  }\n  directive(directive) {\n    var elementInjector = this.elementInjectors[directive.elementIndex];\n    return elementInjector.getDirectiveAtIndex(directive.directiveIndex);\n  }\n  addComponentChildView(view) {\n    ListWrapper.push(this.componentChildViews, view);\n    this.changeDetector.addShadowDomChild(view.changeDetector);\n  }\n  dispatchEvent(elementIndex, eventName, locals) {\n    if (this.hydrated()) {\n      var elBinder = this.proto.elementBinders[elementIndex];\n      if (isBlank(elBinder.hostListeners))\n        return ;\n      var eventMap = elBinder.hostListeners[eventName];\n      if (isBlank(eventMap))\n        return ;\n      MapWrapper.forEach(eventMap, (expr, directiveIndex) => {\n        var context;\n        if (directiveIndex === -1) {\n          context = this.context;\n        } else {\n          context = this.elementInjectors[elementIndex].getDirectiveAtIndex(directiveIndex);\n        }\n        expr.eval(context, new Locals(this.locals, locals));\n      });\n    }\n  }\n}\nObject.defineProperty(AppView, \"annotations\", {get: function() {\n    return [new IMPLEMENTS(ChangeDispatcher)];\n  }});\nObject.defineProperty(AppView, \"parameters\", {get: function() {\n    return [[AppProtoView], [Map]];\n  }});\nObject.defineProperty(AppView.prototype.init, \"parameters\", {get: function() {\n    return [[ChangeDetector], [List], [List], [List], [List], [List]];\n  }});\nObject.defineProperty(AppView.prototype.setLocal, \"parameters\", {get: function() {\n    return [[assert.type.string], []];\n  }});\nObject.defineProperty(AppView.prototype.hydrate, \"parameters\", {get: function() {\n    return [[Injector], [ElementInjector], [Object], [Locals]];\n  }});\nObject.defineProperty(AppView.prototype.internalHydrateRecurse, \"parameters\", {get: function() {\n    return [[assert.genericType(List, renderApi.ViewRef)], [assert.type.number], [Injector], [ElementInjector], [Object], [Locals]];\n  }});\nObject.defineProperty(AppView.prototype.triggerEventHandlers, \"parameters\", {get: function() {\n    return [[assert.type.string], [], [int]];\n  }});\nObject.defineProperty(AppView.prototype.notifyOnBinding, \"parameters\", {get: function() {\n    return [[BindingRecord], [assert.type.any]];\n  }});\nObject.defineProperty(AppView.prototype.directive, \"parameters\", {get: function() {\n    return [[DirectiveRecord]];\n  }});\nObject.defineProperty(AppView.prototype.addComponentChildView, \"parameters\", {get: function() {\n    return [[AppView]];\n  }});\nObject.defineProperty(AppView.prototype.dispatchEvent, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string], [assert.genericType(Map, assert.type.string, assert.type.any)]];\n  }});\nexport class AppProtoView {\n  constructor(renderer, render, protoChangeDetector) {\n    this.renderer = renderer;\n    this.render = render;\n    this.elementBinders = [];\n    this.variableBindings = MapWrapper.create();\n    this.protoLocals = MapWrapper.create();\n    this.protoChangeDetector = protoChangeDetector;\n    this.parentProtoView = null;\n    this.textNodesWithBindingCount = 0;\n    this.bindings = [];\n    this._directiveRecordsMap = MapWrapper.create();\n    this._variableBindings = null;\n    this._directiveRecords = null;\n  }\n  getVariableBindings() {\n    if (isPresent(this._variableBindings)) {\n      return this._variableBindings;\n    }\n    this._variableBindings = isPresent(this.parentProtoView) ? ListWrapper.clone(this.parentProtoView.getVariableBindings()) : [];\n    MapWrapper.forEach(this.protoLocals, (v, local) => {\n      ListWrapper.push(this._variableBindings, local);\n    });\n    return this._variableBindings;\n  }\n  getdirectiveRecords() {\n    if (isPresent(this._directiveRecords)) {\n      return this._directiveRecords;\n    }\n    this._directiveRecords = [];\n    for (var injectorIndex = 0; injectorIndex < this.elementBinders.length; ++injectorIndex) {\n      var pei = this.elementBinders[injectorIndex].protoElementInjector;\n      if (isPresent(pei)) {\n        for (var directiveIndex = 0; directiveIndex < pei.numberOfDirectives; ++directiveIndex) {\n          ListWrapper.push(this._directiveRecords, this._getDirectiveRecord(injectorIndex, directiveIndex));\n        }\n      }\n    }\n    return this._directiveRecords;\n  }\n  bindVariable(contextName, templateName) {\n    MapWrapper.set(this.variableBindings, contextName, templateName);\n    MapWrapper.set(this.protoLocals, templateName, null);\n  }\n  bindElement(parent, distanceToParent, protoElementInjector, componentDirective = null, viewportDirective = null) {\n    var elBinder = new ElementBinder(this.elementBinders.length, parent, distanceToParent, protoElementInjector, componentDirective, viewportDirective);\n    ListWrapper.push(this.elementBinders, elBinder);\n    return elBinder;\n  }\n  bindTextNode(expression) {\n    var textNodeIndex = this.textNodesWithBindingCount++;\n    var b = BindingRecord.createForTextNode(expression, textNodeIndex);\n    ListWrapper.push(this.bindings, b);\n  }\n  bindElementProperty(expression, setterName) {\n    var elementIndex = this.elementBinders.length - 1;\n    var b = BindingRecord.createForElement(expression, elementIndex, setterName);\n    ListWrapper.push(this.bindings, b);\n  }\n  bindEvent(eventBindings, directiveIndex = -1) {\n    var elBinder = this.elementBinders[this.elementBinders.length - 1];\n    var events = elBinder.hostListeners;\n    if (isBlank(events)) {\n      events = StringMapWrapper.create();\n      elBinder.hostListeners = events;\n    }\n    for (var i = 0; i < eventBindings.length; i++) {\n      var eventBinding = eventBindings[i];\n      var eventName = eventBinding.fullName;\n      var event = StringMapWrapper.get(events, eventName);\n      if (isBlank(event)) {\n        event = MapWrapper.create();\n        StringMapWrapper.set(events, eventName, event);\n      }\n      MapWrapper.set(event, directiveIndex, eventBinding.source);\n    }\n  }\n  bindDirectiveProperty(directiveIndex, expression, setterName, setter) {\n    var elementIndex = this.elementBinders.length - 1;\n    var directiveRecord = this._getDirectiveRecord(elementIndex, directiveIndex);\n    var b = BindingRecord.createForDirective(expression, setterName, setter, directiveRecord);\n    ListWrapper.push(this.bindings, b);\n  }\n  _getDirectiveRecord(elementInjectorIndex, directiveIndex) {\n    var id = elementInjectorIndex * 100 + directiveIndex;\n    var protoElementInjector = this.elementBinders[elementInjectorIndex].protoElementInjector;\n    if (!MapWrapper.contains(this._directiveRecordsMap, id)) {\n      var binding = protoElementInjector.getDirectiveBindingAtIndex(directiveIndex);\n      MapWrapper.set(this._directiveRecordsMap, id, new DirectiveRecord(elementInjectorIndex, directiveIndex, binding.callOnAllChangesDone, binding.callOnChange));\n    }\n    return MapWrapper.get(this._directiveRecordsMap, id);\n  }\n}\nObject.defineProperty(AppProtoView, \"parameters\", {get: function() {\n    return [[renderApi.Renderer], [renderApi.ProtoViewRef], [ProtoChangeDetector]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindVariable, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindElement, \"parameters\", {get: function() {\n    return [[ElementBinder], [int], [ProtoElementInjector], [DirectiveBinding], [DirectiveBinding]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindTextNode, \"parameters\", {get: function() {\n    return [[AST]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindElementProperty, \"parameters\", {get: function() {\n    return [[AST], [assert.type.string]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindEvent, \"parameters\", {get: function() {\n    return [[assert.genericType(List, renderApi.EventBinding)], [int]];\n  }});\nObject.defineProperty(AppProtoView.prototype.bindDirectiveProperty, \"parameters\", {get: function() {\n    return [[assert.type.number], [AST], [assert.type.string], [SetterFn]];\n  }});\nObject.defineProperty(AppProtoView.prototype._getDirectiveRecord, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.number]];\n  }});\n//# sourceMappingURL=view.js.map\n\n//# sourceMappingURL=./view.map"]}