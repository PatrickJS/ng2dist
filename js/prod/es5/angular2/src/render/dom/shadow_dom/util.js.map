{"version":3,"sources":["util.es6"],"names":[],"mappings":"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","file":"angular2/src/render/dom/shadow_dom/util.js","sourcesContent":["import {isBlank,\n  isPresent,\n  int} from 'angular2/src/facade/lang';\nimport {MapWrapper,\n  Map} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ShadowCss} from './shadow_css';\nexport function moveViewNodesIntoParent(parent, view) {\n  for (var i = 0; i < view.rootNodes.length; ++i) {\n    DOM.appendChild(parent, view.rootNodes[i]);\n  }\n}\nvar _componentUIDs = MapWrapper.create();\nvar _nextComponentUID = 0;\nvar _sharedStyleTexts = MapWrapper.create();\nvar _lastInsertedStyleEl;\nexport function getComponentId(componentStringId) {\n  var id = MapWrapper.get(_componentUIDs, componentStringId);\n  if (isBlank(id)) {\n    id = _nextComponentUID++;\n    MapWrapper.set(_componentUIDs, componentStringId, id);\n  }\n  return id;\n}\nObject.defineProperty(getComponentId, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nexport function insertSharedStyleText(cssText, styleHost, styleEl) {\n  if (!MapWrapper.contains(_sharedStyleTexts, cssText)) {\n    MapWrapper.set(_sharedStyleTexts, cssText, true);\n    insertStyleElement(styleHost, styleEl);\n  }\n}\nexport function insertStyleElement(host, styleEl) {\n  if (isBlank(_lastInsertedStyleEl)) {\n    var firstChild = DOM.firstChild(host);\n    if (isPresent(firstChild)) {\n      DOM.insertBefore(firstChild, styleEl);\n    } else {\n      DOM.appendChild(host, styleEl);\n    }\n  } else {\n    DOM.insertAfter(_lastInsertedStyleEl, styleEl);\n  }\n  _lastInsertedStyleEl = styleEl;\n}\nexport function getHostAttribute(id) {\n  return `_nghost-${id}`;\n}\nObject.defineProperty(getHostAttribute, \"parameters\", {get: function() {\n    return [[int]];\n  }});\nexport function getContentAttribute(id) {\n  return `_ngcontent-${id}`;\n}\nObject.defineProperty(getContentAttribute, \"parameters\", {get: function() {\n    return [[int]];\n  }});\nexport function shimCssForComponent(cssText, componentId) {\n  var id = getComponentId(componentId);\n  var shadowCss = new ShadowCss();\n  return shadowCss.shimCssText(cssText, getContentAttribute(id), getHostAttribute(id));\n}\nObject.defineProperty(shimCssForComponent, \"parameters\", {get: function() {\n    return [[assert.type.string], [assert.type.string]];\n  }});\nexport function resetShadowDomCache() {\n  MapWrapper.clear(_componentUIDs);\n  _nextComponentUID = 0;\n  MapWrapper.clear(_sharedStyleTexts);\n  _lastInsertedStyleEl = null;\n}\n//# sourceMappingURL=util.js.map\n\n//# sourceMappingURL=./util.map"]}