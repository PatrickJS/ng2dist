{"version":3,"sources":["element_injector_benchmark.es6"],"names":[],"mappings":"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","file":"benchmarks/src/element_injector/element_injector_benchmark.js","sourcesContent":["import {reflector} from 'angular2/src/reflection/reflection';\nimport {ReflectionCapabilities} from 'angular2/src/reflection/reflection_capabilities';\nimport {Injectable,\n  Injector} from 'angular2/di';\nimport {ProtoElementInjector} from 'angular2/src/core/compiler/element_injector';\nimport {getIntParameter,\n  bindAction,\n  microBenchmark} from 'angular2/src/test_lib/benchmark_util';\nimport {BrowserDomAdapter} from 'angular2/src/dom/browser_adapter';\nvar count = 0;\nexport function main() {\n  BrowserDomAdapter.makeCurrent();\n  var iterations = getIntParameter('iterations');\n  reflector.reflectionCapabilities = new ReflectionCapabilities();\n  var appInjector = Injector.resolveAndCreate([]);\n  var bindings = [A, B, C];\n  var proto = new ProtoElementInjector(null, 0, bindings);\n  var elementInjector = proto.instantiate(null);\n  function instantiate() {\n    for (var i = 0; i < iterations; ++i) {\n      var ei = proto.instantiate(null);\n      ei.instantiateDirectives(appInjector, null, null, null);\n    }\n  }\n  function instantiateDirectives() {\n    for (var i = 0; i < iterations; ++i) {\n      elementInjector.clearDirectives();\n      elementInjector.instantiateDirectives(appInjector, null, null, null);\n    }\n  }\n  bindAction('#instantiate', () => microBenchmark('instantiateAvg', iterations, instantiate));\n  bindAction('#instantiateDirectives', () => microBenchmark('instantiateAvg', iterations, instantiateDirectives));\n}\nclass A {\n  constructor() {\n    count++;\n  }\n}\nObject.defineProperty(A, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nclass B {\n  constructor() {\n    count++;\n  }\n}\nObject.defineProperty(B, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nclass C {\n  constructor(a, b) {\n    count++;\n  }\n}\nObject.defineProperty(C, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(C, \"parameters\", {get: function() {\n    return [[A], [B]];\n  }});\n//# sourceMappingURL=element_injector_benchmark.js.map\n\n//# sourceMappingURL=./element_injector_benchmark.map"]}