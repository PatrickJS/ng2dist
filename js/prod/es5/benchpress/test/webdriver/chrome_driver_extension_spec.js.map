{"version":3,"sources":["chrome_driver_extension_spec.es6"],"names":[],"mappings":"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","file":"benchpress/test/webdriver/chrome_driver_extension_spec.js","sourcesContent":["import {afterEach,\n  AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  describe,\n  expect,\n  iit,\n  inject,\n  it,\n  xit} from 'angular2/test_lib';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\nimport {Json,\n  isBlank} from 'angular2/src/facade/lang';\nimport {WebDriverExtension,\n  ChromeDriverExtension,\n  WebDriverAdapter,\n  Injector,\n  bind} from 'benchpress/common';\nimport {TraceEventFactory} from '../trace_event_factory';\nexport function main() {\n  describe('chrome driver extension', () => {\n    var log;\n    var extension;\n    var blinkEvents = new TraceEventFactory('blink.console', 'pid0');\n    var v8Events = new TraceEventFactory('v8', 'pid0');\n    var v8EventsOtherProcess = new TraceEventFactory('v8', 'pid1');\n    var chromeTimelineEvents = new TraceEventFactory('disabled-by-default-devtools.timeline', 'pid0');\n    var normEvents = new TraceEventFactory('timeline', 'pid0');\n    function createExtension(perfRecords = null, messageMethod = 'Tracing.dataCollected') {\n      if (isBlank(perfRecords)) {\n        perfRecords = [];\n      }\n      log = [];\n      extension = Injector.resolveAndCreate([ChromeDriverExtension.BINDINGS, bind(WebDriverAdapter).toValue(new MockDriverAdapter(log, perfRecords, messageMethod))]).get(ChromeDriverExtension);\n      return extension;\n    }\n    it('should force gc via window.gc()', inject([AsyncTestCompleter], (async) => {\n      createExtension().gc().then((_) => {\n        expect(log).toEqual([['executeScript', 'window.gc()']]);\n        async.done();\n      });\n    }));\n    it('should mark the timeline via console.time()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeBegin('someName').then((_) => {\n        expect(log).toEqual([['executeScript', `console.time('someName');`]]);\n        async.done();\n      });\n    }));\n    it('should mark the timeline via console.timeEnd()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeEnd('someName').then((_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('someName');`]]);\n        async.done();\n      });\n    }));\n    it('should mark the timeline via console.time() and console.timeEnd()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeEnd('name1', 'name2').then((_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('name1');console.time('name2');`]]);\n        async.done();\n      });\n    }));\n    describe('readPerfLog', () => {\n      it('should execute a dummy script before reading them', inject([AsyncTestCompleter], (async) => {\n        createExtension([]).readPerfLog().then((_) => {\n          expect(log).toEqual([['executeScript', '1+1'], ['logs', 'performance']]);\n          async.done();\n        });\n      }));\n      it('should normalize times to ms and forward ph and pid event properties', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.complete('FunctionCall', 1100, 5500, null)]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.complete('script', 1.1, 5.5, null)]);\n          async.done();\n        });\n      }));\n      it('should normalize \"tdur\" to \"dur\"', inject([AsyncTestCompleter], (async) => {\n        var event = chromeTimelineEvents.create('X', 'FunctionCall', 1100, null);\n        event['tdur'] = 5500;\n        createExtension([event]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.complete('script', 1.1, 5.5, null)]);\n          async.done();\n        });\n      }));\n      it('should report FunctionCall events as \"script\"', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.start('FunctionCall', 0)]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.start('script', 0)]);\n          async.done();\n        });\n      }));\n      it('should ignore FunctionCalls from webdriver', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.start('FunctionCall', 0, {'data': {'scriptName': 'InjectedScript'}})]).readPerfLog().then((events) => {\n          expect(events).toEqual([]);\n          async.done();\n        });\n      }));\n      it('should report begin timestamps', inject([AsyncTestCompleter], (async) => {\n        createExtension([blinkEvents.create('S', 'someName', 1000)]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.markStart('someName', 1.0)]);\n          async.done();\n        });\n      }));\n      it('should report end timestamps', inject([AsyncTestCompleter], (async) => {\n        createExtension([blinkEvents.create('F', 'someName', 1000)]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.markEnd('someName', 1.0)]);\n          async.done();\n        });\n      }));\n      it('should report gc', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}), chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0})]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.start('gc', 1.0, {'usedHeapSize': 1000}), normEvents.end('gc', 2.0, {\n            'usedHeapSize': 0,\n            'majorGc': false\n          })]);\n          async.done();\n        });\n      }));\n      it('should report major gc', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}), v8EventsOtherProcess.start('majorGC', 1100, null), v8EventsOtherProcess.end('majorGC', 1200, null), chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0})]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.start('gc', 1.0, {'usedHeapSize': 1000}), normEvents.end('gc', 2.0, {\n            'usedHeapSize': 0,\n            'majorGc': false\n          })]);\n          async.done();\n        });\n      }));\n      it('should ignore major gc from different processes', inject([AsyncTestCompleter], (async) => {\n        createExtension([chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}), v8Events.start('majorGC', 1100, null), v8Events.end('majorGC', 1200, null), chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0})]).readPerfLog().then((events) => {\n          expect(events).toEqual([normEvents.start('gc', 1.0, {'usedHeapSize': 1000}), normEvents.end('gc', 2.0, {\n            'usedHeapSize': 0,\n            'majorGc': true\n          })]);\n          async.done();\n        });\n      }));\n      ['RecalculateStyles', 'Layout', 'UpdateLayerTree', 'Paint', 'Rasterize', 'CompositeLayers'].forEach((recordType) => {\n        it(`should report ${recordType} as \"render\"`, inject([AsyncTestCompleter], (async) => {\n          createExtension([chromeTimelineEvents.start(recordType, 1234), chromeTimelineEvents.end(recordType, 2345)]).readPerfLog().then((events) => {\n            expect(events).toEqual([normEvents.start('render', 1.234), normEvents.end('render', 2.345)]);\n            async.done();\n          });\n        }));\n      });\n      it('should throw an error on buffer overflow', inject([AsyncTestCompleter], (async) => {\n        PromiseWrapper.catchError(createExtension([chromeTimelineEvents.start('FunctionCall', 1234)], 'Tracing.bufferUsage').readPerfLog(), (err) => {\n          expect(() => {\n            throw err;\n          }).toThrowError('The DevTools trace buffer filled during the test!');\n          async.done();\n        });\n      }));\n      it('should match chrome browsers', () => {\n        expect(createExtension().supports({'browserName': 'chrome'})).toBe(true);\n        expect(createExtension().supports({'browserName': 'Chrome'})).toBe(true);\n      });\n    });\n  });\n}\nclass MockDriverAdapter extends WebDriverAdapter {\n  constructor(log, events, messageMethod) {\n    super();\n    this._log = log;\n    this._events = events;\n    this._messageMethod = messageMethod;\n  }\n  executeScript(script) {\n    ListWrapper.push(this._log, ['executeScript', script]);\n    return PromiseWrapper.resolve(null);\n  }\n  logs(type) {\n    ListWrapper.push(this._log, ['logs', type]);\n    if (type === 'performance') {\n      return PromiseWrapper.resolve(this._events.map((event) => {\n        return {'message': Json.stringify({'message': {\n              'method': this._messageMethod,\n              'params': event\n            }})};\n      }));\n    } else {\n      return null;\n    }\n  }\n}\n//# sourceMappingURL=chrome_driver_extension_spec.js.map\n\n//# sourceMappingURL=./chrome_driver_extension_spec.map"]}