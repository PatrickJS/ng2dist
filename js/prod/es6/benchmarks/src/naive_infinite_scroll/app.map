{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"benchmarks/src/naive_infinite_scroll/app.es6","sourcesContent":["import {int, isPresent} from 'angular2/src/facade/lang';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {getIntParameter, bindAction} from 'angular2/src/test_lib/benchmark_util';\nimport {bootstrap, Component, Viewport, View, ViewContainer, Compiler}\n    from 'angular2/angular2';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {ScrollAreaComponent} from './scroll_area';\nimport {If, For} from 'angular2/directives';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {document} from 'angular2/src/facade/browser';\n\n\n@Component({selector: 'scroll-app'})\n@View({\n  directives: [ScrollAreaComponent, If, For],\n  template: `\n  <div>\n    <div style=\"display: flex\">\n      <scroll-area id=\"testArea\"></scroll-area>\n    </div>\n    <div template=\"if scrollAreas.length > 0\">\n      <p>Following tables are only here to add weight to the UI:</p>\n      <scroll-area template=\"for #scrollArea of scrollAreas\"></scroll-area>\n    </div>\n  </div>`\n})\nexport class App {\n  scrollAreas:List<int>;\n  iterationCount:int;\n  scrollIncrement:int;\n\n  constructor() {\n    var appSize = getIntParameter('appSize');\n    this.iterationCount = getIntParameter('iterationCount');\n    this.scrollIncrement = getIntParameter('scrollIncrement');\n    appSize = appSize > 1 ? appSize - 1 : 0;  // draw at least one table\n    this.scrollAreas = [];\n    for (var i = 0; i < appSize; i++) {\n      ListWrapper.push(this.scrollAreas, i);\n    }\n    bindAction('#run-btn', () => {\n      this.runBenchmark();\n    });\n    bindAction('#reset-btn', () => {\n      this._getScrollDiv().scrollTop = 0;\n      var existingMarker = this._locateFinishedMarker();\n      if (isPresent(existingMarker)) {\n        DOM.removeChild(document.body, existingMarker);\n      }\n    });\n  }\n\n  runBenchmark() {\n    var scrollDiv = this._getScrollDiv();\n    var n:int = this.iterationCount;\n    var scheduleScroll;\n    scheduleScroll = () => {\n      PromiseWrapper.setTimeout(() => {\n        scrollDiv.scrollTop += this.scrollIncrement;\n        n--;\n        if (n > 0) {\n          scheduleScroll();\n        } else {\n          this._scheduleFinishedMarker();\n        }\n      }, 0);\n    }\n    scheduleScroll();\n  }\n\n  // Puts a marker indicating that the test is finished.\n  _scheduleFinishedMarker() {\n    var existingMarker = this._locateFinishedMarker();\n    if (isPresent(existingMarker)) {\n      // Nothing to do, the marker is already there\n      return;\n    }\n    PromiseWrapper.setTimeout(() => {\n      var finishedDiv = DOM.createElement('div');\n      finishedDiv.id = 'done';\n      DOM.setInnerHTML(finishedDiv, 'Finished');\n      DOM.appendChild(document.body, finishedDiv);\n    }, 0);\n  }\n\n  _locateFinishedMarker() {\n    return DOM.querySelector(document.body, '#done');\n  }\n\n  _getScrollDiv() {\n    return DOM.query('body /deep/ #testArea /deep/ #scrollDiv');\n  }\n}\n"]}