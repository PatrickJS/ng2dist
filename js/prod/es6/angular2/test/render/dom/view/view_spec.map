{"version":3,"sources":["view_spec.js"],"names":[],"mappings":"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","file":"angular2/test/render/dom/view/view_spec.es6","sourcesContent":["import {describe, ddescribe, it, iit, xit, xdescribe, expect, beforeEach, el} from 'angular2/test_lib';\n\nimport {ListWrapper} from 'angular2/src/facade/collection';\n\nimport {RenderProtoView} from 'angular2/src/render/dom/view/proto_view';\nimport {RenderView} from 'angular2/src/render/dom/view/view';\nimport {ShadowDomStrategy} from 'angular2/src/render/dom/shadow_dom/shadow_dom_strategy';\nimport {LightDom} from 'angular2/src/render/dom/shadow_dom/light_dom';\n\nexport function main() {\n\n  function createView() {\n    var proto = new RenderProtoView({element: el('<div></div>'), isRootView: false, elementBinders: []});\n    var rootNodes = [el('<div></div>')];\n    var boundTextNodes = [];\n    var boundElements = [el('<div></div>')];\n    var viewContainers = [];\n    var contentTags = [];\n    var eventManager = null;\n    return new RenderView(proto, rootNodes,\n      boundTextNodes, boundElements, viewContainers, contentTags, eventManager);\n  }\n\n  function createShadowDomStrategy(log) {\n    return new FakeShadowDomStrategy(log);\n  }\n\n  describe('RenderView', () => {\n    var log, strategy;\n\n    beforeEach( () => {\n      log = [];\n      strategy = createShadowDomStrategy(log);\n    });\n\n    describe('setComponentView', () => {\n\n      it('should redistribute when a component is added to a hydrated view', () => {\n        var hostView = createView();\n        var childView = createView();\n        hostView.hydrate(null);\n        hostView.setComponentView(strategy, 0, childView);\n        expect(log[0]).toEqual(['redistribute']);\n      });\n\n      it('should not redistribute when a component is added to a dehydrated view', () => {\n        var hostView = createView();\n        var childView = createView();\n        hostView.setComponentView(strategy, 0, childView);\n        expect(log).toEqual([]);\n      });\n\n    });\n\n  });\n}\n\nclass FakeShadowDomStrategy extends ShadowDomStrategy {\n  log;\n  constructor(log) {\n    super();\n    this.log = log;\n  }\n  constructLightDom(lightDomView:RenderView, shadowDomView:RenderView, element): LightDom {\n    return new FakeLightDom(this.log, lightDomView, shadowDomView, element);\n  }\n}\n\nclass FakeLightDom extends LightDom {\n  log;\n  constructor(log, lightDomView:RenderView, shadowDomView:RenderView, element) {\n    super(lightDomView, shadowDomView, element);\n    this.log = log;\n  }\n  redistribute() {\n    ListWrapper.push(this.log, ['redistribute']);\n  }\n}"]}