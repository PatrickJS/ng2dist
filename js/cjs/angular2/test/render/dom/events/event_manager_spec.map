{"version":3,"sources":["event_manager_spec.js"],"names":[],"mappings":"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","file":"angular2/test/render/dom/events/event_manager_spec.js","sourcesContent":["import {describe, ddescribe, it, iit, xit, xdescribe, expect, beforeEach, el} from 'angular2/test_lib';\nimport {EventManager, EventManagerPlugin, DomEventsPlugin} from 'angular2/src/render/dom/events/event_manager';\nimport {VmTurnZone} from 'angular2/src/core/zone/vm_turn_zone';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {document} from 'angular2/src/facade/browser';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\n\nexport function main() {\n  var domEventPlugin;\n\n  beforeEach(() => {\n    domEventPlugin = new DomEventsPlugin();\n  });\n\n  describe('EventManager', () => {\n\n    it('should delegate event bindings to plugins', () => {\n      var element = el('<div></div>');\n      var handler = (e) => e;\n      var plugin = new FakeEventManagerPlugin(['click']);\n      var manager = new EventManager([plugin, domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      expect(MapWrapper.get(plugin._nonBubbleEventHandlers, 'click')).toBe(handler);\n    });\n\n    it('should delegate bubbling events to plugins', () => {\n      var element = el('<div></div>');\n      var handler = (e) => e;\n      var plugin = new FakeEventManagerPlugin(['click']);\n      var manager = new EventManager([plugin, domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, '^click', handler);\n      expect(MapWrapper.get(plugin._bubbleEventHandlers, 'click')).toBe(handler);\n    });\n\n    it('should delegate event bindings to the first plugin supporting the event', () => {\n      var element = el('<div></div>');\n      var clickHandler = (e) => e;\n      var dblClickHandler = (e) => e;\n      var plugin1= new FakeEventManagerPlugin(['dblclick']);\n      var plugin2 = new FakeEventManagerPlugin(['click', 'dblclick']);\n      var manager = new EventManager([plugin1, plugin2], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', clickHandler);\n      manager.addEventListener(element, 'dblclick', dblClickHandler);\n      expect(MapWrapper.contains(plugin1._nonBubbleEventHandlers, 'click')).toBe(false);\n      expect(MapWrapper.get(plugin2._nonBubbleEventHandlers, 'click')).toBe(clickHandler);\n      expect(MapWrapper.contains(plugin2._nonBubbleEventHandlers, 'dblclick')).toBe(false);\n      expect(MapWrapper.get(plugin1._nonBubbleEventHandlers, 'dblclick')).toBe(dblClickHandler);\n    });\n\n    it('should throw when no plugin can handle the event', () => {\n      var element = el('<div></div>');\n      var plugin = new FakeEventManagerPlugin(['dblclick']);\n      var manager = new EventManager([plugin], new FakeVmTurnZone());\n      expect(() => manager.addEventListener(element, 'click', null))\n        .toThrowError('No event manager plugin found for event click');\n    });\n\n    it('by default events are only caught on same element', () => {\n      var element = el('<div><div></div></div>');\n      var child = DOM.firstChild(element);\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var manager = new EventManager([domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      DOM.dispatchEvent(child, dispatchedEvent);\n\n      expect(receivedEvent).toBe(null);\n    });\n\n    it('bubbled events are caught when fired from a child', () => {\n      var element = el('<div><div></div></div>');\n      // Workaround for https://bugs.webkit.org/show_bug.cgi?id=122755\n      DOM.appendChild(document.body, element);\n\n      var child = DOM.firstChild(element);\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var manager = new EventManager([domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, '^click', handler);\n      DOM.dispatchEvent(child, dispatchedEvent);\n\n      expect(receivedEvent).toBe(dispatchedEvent);\n    });\n\n    it('should add and remove global event listeners with correct bubbling', () => {\n      var element = el('<div><div></div></div>');\n      DOM.appendChild(document.body, element);\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var manager = new EventManager([domEventPlugin], new FakeVmTurnZone());\n\n      var remover = manager.addGlobalEventListener(\"document\", '^click', handler);\n      DOM.dispatchEvent(element, dispatchedEvent);\n      expect(receivedEvent).toBe(dispatchedEvent);\n\n      receivedEvent = null;\n      remover();\n      DOM.dispatchEvent(element, dispatchedEvent);\n      expect(receivedEvent).toBe(null);\n\n      remover = manager.addGlobalEventListener(\"document\", 'click', handler);\n      DOM.dispatchEvent(element, dispatchedEvent);\n      expect(receivedEvent).toBe(null);\n    });\n  });\n}\n\nclass FakeEventManagerPlugin extends EventManagerPlugin {\n  _supports: List<string>;\n  _nonBubbleEventHandlers: Map;\n  _bubbleEventHandlers: Map;\n  constructor(supports: List<string>) {\n    super();\n    this._supports = supports;\n    this._nonBubbleEventHandlers = MapWrapper.create();\n    this._bubbleEventHandlers = MapWrapper.create();\n  }\n\n  supports(eventName: string): boolean {\n    return ListWrapper.contains(this._supports, eventName);\n  }\n\n  addEventListener(element, eventName: string, handler: Function, shouldSupportBubble: boolean) {\n    MapWrapper.set(shouldSupportBubble ? this._bubbleEventHandlers : this._nonBubbleEventHandlers,\n        eventName, handler);\n    return () => {MapWrapper.delete(shouldSupportBubble ? this._bubbleEventHandlers : this._nonBubbleEventHandlers,\n        eventName)};\n  }\n}\n\nclass FakeVmTurnZone extends VmTurnZone {\n  constructor() {\n    super({enableLongStackTrace: false});\n  }\n\n  run(fn) {\n    fn();\n  }\n\n  runOutsideAngular(fn) {\n    return fn();\n  }\n}\n"]}