{"version":3,"sources":["chrome_driver_extension_spec.js"],"names":[],"mappings":"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","file":"benchpress/test/webdriver/chrome_driver_extension_spec.js","sourcesContent":["import {\n  afterEach,\n  AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  describe,\n  expect,\n  iit,\n  inject,\n  it,\n  xit,\n} from 'angular2/test_lib';\n\nimport { ListWrapper } from 'angular2/src/facade/collection';\nimport { PromiseWrapper } from 'angular2/src/facade/async';\nimport { Json, isBlank } from 'angular2/src/facade/lang';\n\nimport {\n  WebDriverExtension, ChromeDriverExtension,\n  WebDriverAdapter, Injector, bind\n} from 'benchpress/common';\n\nimport { TraceEventFactory } from '../trace_event_factory';\n\nexport function main() {\n  describe('chrome driver extension', () => {\n    var log;\n    var extension;\n\n    var blinkEvents = new TraceEventFactory('blink.console', 'pid0');\n    var v8Events = new TraceEventFactory('v8', 'pid0');\n    var v8EventsOtherProcess = new TraceEventFactory('v8', 'pid1');\n    var chromeTimelineEvents = new TraceEventFactory('disabled-by-default-devtools.timeline', 'pid0');\n    var normEvents = new TraceEventFactory('timeline', 'pid0');\n\n    function createExtension(perfRecords = null, messageMethod = 'Tracing.dataCollected') {\n      if (isBlank(perfRecords)) {\n        perfRecords = [];\n      }\n      log = [];\n      extension = Injector.resolveAndCreate([\n        ChromeDriverExtension.BINDINGS,\n        bind(WebDriverAdapter).toValue(new MockDriverAdapter(log, perfRecords, messageMethod))\n      ]).get(ChromeDriverExtension);\n      return extension;\n    }\n\n    it('should force gc via window.gc()', inject([AsyncTestCompleter], (async) => {\n      createExtension().gc().then( (_) => {\n        expect(log).toEqual([['executeScript', 'window.gc()']]);\n        async.done();\n      });\n    }));\n\n    it('should mark the timeline via console.time()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeBegin('someName').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.time('someName');`]]);\n        async.done();\n      });\n    }));\n\n    it('should mark the timeline via console.timeEnd()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeEnd('someName').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('someName');`]]);\n        async.done();\n      });\n    }));\n\n    it('should mark the timeline via console.time() and console.timeEnd()', inject([AsyncTestCompleter], (async) => {\n      createExtension().timeEnd('name1', 'name2').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('name1');console.time('name2');`]]);\n        async.done();\n      });\n    }));\n\n    describe('readPerfLog', () => {\n\n      it('should execute a dummy script before reading them', inject([AsyncTestCompleter], (async) => {\n        // TODO(tbosch): This seems to be a bug in ChromeDriver:\n        // Sometimes it does not report the newest events of the performance log\n        // to the WebDriver client unless a script is executed...\n        createExtension([]).readPerfLog().then( (_) => {\n          expect(log).toEqual([ [ 'executeScript', '1+1' ], [ 'logs', 'performance' ] ]);\n          async.done();\n        });\n      }));\n\n      it('should normalize times to ms and forward ph and pid event properties', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.complete('FunctionCall', 1100, 5500, null)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.complete('script', 1.1, 5.5, null),\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should normalize \"tdur\" to \"dur\"', inject([AsyncTestCompleter], (async) => {\n        var event = chromeTimelineEvents.create('X', 'FunctionCall', 1100, null);\n        event['tdur'] = 5500;\n        createExtension([event]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.complete('script', 1.1, 5.5, null),\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should report FunctionCall events as \"script\"', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.start('FunctionCall', 0)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('script', 0),\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should ignore FunctionCalls from webdriver', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.start('FunctionCall', 0, {'data': {'scriptName': 'InjectedScript'}})\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([]);\n          async.done();\n        });\n      }));\n\n      it('should report begin timestamps', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          blinkEvents.create('S', 'someName', 1000)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.markStart('someName', 1.0)\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should report end timestamps', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          blinkEvents.create('F', 'someName', 1000)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.markEnd('someName', 1.0)\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should report gc', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': false}),\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should report major gc', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          v8EventsOtherProcess.start('majorGC', 1100, null),\n          v8EventsOtherProcess.end('majorGC', 1200, null),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': false}),\n          ]);\n          async.done();\n        });\n      }));\n\n      it('should ignore major gc from different processes', inject([AsyncTestCompleter], (async) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          v8Events.start('majorGC', 1100, null),\n          v8Events.end('majorGC', 1200, null),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': true}),\n          ]);\n          async.done();\n        });\n      }));\n\n      ['RecalculateStyles', 'Layout', 'UpdateLayerTree', 'Paint', 'Rasterize', 'CompositeLayers'].forEach( (recordType) => {\n        it(`should report ${recordType} as \"render\"`, inject([AsyncTestCompleter], (async) => {\n          createExtension([\n            chromeTimelineEvents.start(recordType, 1234),\n            chromeTimelineEvents.end(recordType, 2345)\n          ]).readPerfLog().then( (events) => {\n            expect(events).toEqual([\n              normEvents.start('render', 1.234),\n              normEvents.end('render', 2.345),\n            ]);\n            async.done();\n          });\n        }));\n      });\n\n      it('should throw an error on buffer overflow', inject([AsyncTestCompleter], (async) => {\n        PromiseWrapper.catchError(createExtension([\n          chromeTimelineEvents.start('FunctionCall', 1234),\n        ], 'Tracing.bufferUsage').readPerfLog(), (err) => {\n          expect( () => {\n            throw err;\n          }).toThrowError('The DevTools trace buffer filled during the test!');\n          async.done();\n        });\n      }));\n\n      it('should match chrome browsers', () => {\n        expect(createExtension().supports({\n          'browserName': 'chrome'\n        })).toBe(true);\n\n        expect(createExtension().supports({\n          'browserName': 'Chrome'\n        })).toBe(true);\n      });\n\n    });\n\n  });\n}\n\nclass MockDriverAdapter extends WebDriverAdapter {\n  _log:List;\n  _events:List;\n  _messageMethod:string;\n  constructor(log, events, messageMethod) {\n    super();\n    this._log = log;\n    this._events = events;\n    this._messageMethod = messageMethod;\n  }\n\n  executeScript(script) {\n    ListWrapper.push(this._log, ['executeScript', script]);\n    return PromiseWrapper.resolve(null);\n  }\n\n  logs(type) {\n    ListWrapper.push(this._log, ['logs', type]);\n    if (type === 'performance') {\n      return PromiseWrapper.resolve(this._events.map( (event) => {\n        return {\n          'message': Json.stringify({\n            'message': {\n              'method': this._messageMethod,\n              'params': event\n            }\n          })\n        };\n      }));\n    } else {\n      return null;\n    }\n  }\n\n}\n"]}